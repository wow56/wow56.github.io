(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{608:function(s,a,t){"use strict";t.r(a);var e=t(48),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"shell-脚本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell-脚本"}},[s._v("#")]),s._v(" Shell 脚本")]),s._v(" "),t("h2",{attrs:{id:"参考文档"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考文档"}},[s._v("#")]),s._v(" 参考文档")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.runoob.com/linux/linux-shell.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("菜鸟 Shell 教程"),t("OutboundLink")],1)])]),s._v(" "),t("h2",{attrs:{id:"常见问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[s._v("#")]),s._v(" 常见问题")]),s._v(" "),t("h3",{attrs:{id:"脚本位置问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#脚本位置问题"}},[s._v("#")]),s._v(" 脚本位置问题")]),s._v(" "),t("p",[s._v("常用方式 "),t("code",[s._v("$(cd $(dirname $0))")])]),s._v(" "),t("p",[s._v("常用 "),t("code",[s._v("$0")]),s._v(" 与 "),t("code",[s._v("${BASH_SOURCE[0]}")]),s._v(" 两种方式去获取当前所执行脚本所在位置。他们的区别如下：")]),s._v(" "),t("p",[s._v("如果 "),t("code",[s._v("/home/haha")]),s._v(" 下存在两个脚本 "),t("code",[s._v("a.sh")]),s._v(" 和 "),t("code",[s._v("b.sh")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# a.sh")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n./b.sh\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -------")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# b.sh")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v(" is "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("BASH_SOURCE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v(" is "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("BASH_SOURCE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v('"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出：")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# $0 is ./a.sh")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ${BASH_SOURCE[0]} is ./b.sh")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("$0")]),s._v(" 获取的是调用 b 的 a 脚本。")]),s._v(" "),t("li",[t("code",[s._v("${BASH_SOURCE[0]}")]),s._v(" 获取的是当前代码所在的脚本位置。")])]),s._v(" "),t("h2",{attrs:{id:"提炼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#提炼"}},[s._v("#")]),s._v(" 提炼")]),s._v(" "),t("ul",[t("li",[s._v("变量名与等号之间不能有空格。")]),s._v(" "),t("li",[t("code",[s._v("$a")]),s._v(" 和 "),t("code",[s._v("${a}")]),s._v(" 一样，"),t("code",[s._v("{")]),s._v(" 是可选的。")]),s._v(" "),t("li",[t("code",[s._v("echo ${#hello_str}")]),s._v(" 打印字符串长度。\n"),t("ul",[t("li",[t("code",[s._v("#")]),s._v(" 计算个数")])])]),s._v(" "),t("li",[s._v("关联数组 -> Map\n"),t("ul",[t("li",[t("code",[s._v("declare -A array_name=([k]=v [k2]=v2)")])])])]),s._v(" "),t("li",[t("code",[s._v("echo")]),s._v(" 和 "),t("code",[s._v("printf")]),s._v(","),t("code",[s._v("printf")]),s._v(" 移植性更好。")]),s._v(" "),t("li",[s._v("流程控制不能有空语句。")]),s._v(" "),t("li",[t("code",[s._v("[ 1 -gt 2 ]")]),s._v(" 和 "),t("code",[s._v("((1 > 2))")])]),s._v(" "),t("li",[s._v("case "),t("code",[s._v(";;")]),s._v(" = break")]),s._v(" "),t("li",[t("code",[s._v("$@")]),s._v(" 和 "),t("code",[s._v("$*")]),s._v("：\n"),t("ul",[t("li",[s._v("不加双引号没区别。")]),s._v(" "),t("li",[s._v("加双引号：\n"),t("ul",[t("li",[t("code",[s._v('"$@"')]),s._v(" 每个参数就是那一个参数(跟不加一样)。")]),s._v(" "),t("li",[t("code",[s._v('"$*"')]),s._v(" 所有参数作为一个字符串。")])])])])]),s._v(" "),t("li",[s._v("文件包含，使用 "),t("code",[s._v(". ./test.sh")]),s._v(" 或者 "),t("code",[s._v("source ./test.sh")]),s._v("。\n"),t("ul",[t("li",[s._v("被引用的文件不需要可执行权限。")])])])]),s._v(" "),t("h2",{attrs:{id:"shell-简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell-简介"}},[s._v("#")]),s._v(" Shell 简介")]),s._v(" "),t("h3",{attrs:{id:"shell"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell"}},[s._v("#")]),s._v(" Shell")]),s._v(" "),t("p",[s._v("Shell 是一个用 C 语言编写的程序，它是用户使用 Linux 的桥梁。Shell 既是一种命令语言，又是一种程序设计语言。")]),s._v(" "),t("p",[s._v("Shell 是指一种应用程序，这个应用程序提供了一个界面，用户通过这个界面访问操作系统内核的服务。")]),s._v(" "),t("p",[s._v("Ken Thompson 的 sh 是第一种 Unix Shell，Windows Explorer 是一个典型的图形界面 Shell。")]),s._v(" "),t("h3",{attrs:{id:"shell-脚本-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell-脚本-2"}},[s._v("#")]),s._v(" Shell 脚本")]),s._v(" "),t("p",[s._v("Shell 脚本（shell script），是一种为 shell 编写的脚本程序。")]),s._v(" "),t("h3",{attrs:{id:"shell-环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell-环境"}},[s._v("#")]),s._v(" Shell 环境")]),s._v(" "),t("p",[s._v("Shell 编程跟 JavaScript、php 编程一样，只要有一个能编写代码的文本编辑器和一个能解释执行的脚本解释器就可以了。")]),s._v(" "),t("p",[s._v("Linux 的 Shell 种类众多，常见的有以下几种：")]),s._v(" "),t("blockquote",[t("p",[s._v("打开终端输入 "),t("code",[s._v("cat /etc/shells")]),s._v(" 查看本机所有的 shell")])]),s._v(" "),t("ul",[t("li",[s._v("Bourne Shell，（"),t("code",[s._v("/usr/bin/sh")]),s._v(" 或者 "),t("code",[s._v("/bin/sh")]),s._v("）")]),s._v(" "),t("li",[s._v("Bourne Again Shell，（"),t("code",[s._v("/bin/bash")]),s._v("）")]),s._v(" "),t("li",[s._v("C Shell，（"),t("code",[s._v("/usr/bin/csh")]),s._v("）")]),s._v(" "),t("li",[s._v("K Shell，（"),t("code",[s._v("/usr/bin/ksh")]),s._v("）")]),s._v(" "),t("li",[s._v("Shell for Root，（"),t("code",[s._v("/sbin/sh")]),s._v("）")]),s._v(" "),t("li",[s._v("...")])]),s._v(" "),t("h3",{attrs:{id:"第一个-shell-脚本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第一个-shell-脚本"}},[s._v("#")]),s._v(" 第一个 shell 脚本")]),s._v(" "),t("p",[t("code",[s._v("#!")]),s._v(" 后面跟 Shell 路径，是声明使用指定 Shell 解释这个脚本，即声明用什么解释器来执行。")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("-e")]),s._v(" 参数，每条指令之后，都可以用 "),t("code",[s._v("#？")]),s._v(" 去判断他的返回值，\n零就是正确执行，非零就是执行有误，加了 "),t("code",[s._v("-e")]),s._v(" 之后，就不用自己写代码去判断返回值，返回非零，脚本就会退出。")])]),s._v(" "),t("p",[s._v("新建一个文件（使用 vim 等方式） test.sh，这里的 sh 扩展名并没有实际意义，只是为了见名知意。")]),s._v(" "),t("p",[s._v("例如：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#! /bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello world !"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("code",[s._v("echo")]),s._v(" 用于向窗口输出文本")]),s._v(" "),t("h3",{attrs:{id:"运行脚本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#运行脚本"}},[s._v("#")]),s._v(" 运行脚本")]),s._v(" "),t("h4",{attrs:{id:"_1-作为可执行程序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-作为可执行程序"}},[s._v("#")]),s._v(" 1.作为可执行程序")]),s._v(" "),t("p",[s._v("将以上代码保存为 test.sh，并 cd 到相应目录：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x ./test.sh "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 给这个脚本设置可执行权限")]),s._v("\n./test.sh "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行脚本")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("strong",[s._v("注意：")]),s._v(" 这里一定使用 "),t("code",[s._v("./test.sh")]),s._v("，而不是 "),t("code",[s._v("test.sh")]),s._v("，运行其他的二进制程序也一样。")]),s._v(" "),t("p",[s._v("直接写 test.sh，linux 系统会去直接 PATH 里寻找有没有叫 test.sh 的，而只有 "),t("code",[s._v("/bin")]),s._v("，"),t("code",[s._v("/sbin")]),s._v("，"),t("code",[s._v("/usr/bin")]),s._v("，"),t("code",[s._v("/usr/sbin")]),s._v(" 等在 PATH 里，你的当前目录通常不\n在 PATH 里，所以写成 test.sh 是会找不到命令的，要用 "),t("code",[s._v("./test.sh")]),s._v(" 告诉系统说，就在当前目录找。")]),s._v(" "),t("p",[s._v("具体详见 -> "),t("RouterLink",{attrs:{to:"/computer-literacy/linux/using_linux.html#path"}},[s._v("环境变量")])],1),s._v(" "),t("h4",{attrs:{id:"_2-作为解释器参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-作为解释器参数"}},[s._v("#")]),s._v(" 2.作为解释器参数")]),s._v(" "),t("p",[s._v("这种运行方式是，直接运行解释器，其参数就是 shell 脚本的文件名，如：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("/bin/sh test.sh\n/bin/php test.php\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("这种方式运行的脚本，不需要在第一行指定解释器信息，写了也没用。")]),s._v(" "),t("h2",{attrs:{id:"shell-注释"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell-注释"}},[s._v("#")]),s._v(" Shell 注释")]),s._v(" "),t("h3",{attrs:{id:"单行注释"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#单行注释"}},[s._v("#")]),s._v(" 单行注释")]),s._v(" "),t("p",[s._v("使用 "),t("code",[s._v("#")]),s._v("，如果多行，可以考虑抽成一个方法，这样的话只要方法不被调用，那么就不会执行。\n相当于起到了注释的作用。")]),s._v(" "),t("h3",{attrs:{id:"多行注释"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#多行注释"}},[s._v("#")]),s._v(" 多行注释")]),s._v(" "),t("p",[s._v("使用 "),t("code",[s._v(":<<")]),s._v("+"),t("code",[s._v("任意字符")]),s._v(" 开头，以 "),t("code",[s._v("开头指定的任意字符")]),s._v(" 结尾。")]),s._v(" "),t("p",[s._v("示例：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v(":"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("EOF\n注释内容...\n注释内容...\n注释内容...\nEOF")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v(":"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v("！\n注释内容"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n注释内容"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n注释内容"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n！\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h2",{attrs:{id:"shell-变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell-变量"}},[s._v("#")]),s._v(" Shell 变量")]),s._v(" "),t("h3",{attrs:{id:"定义变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#定义变量"}},[s._v("#")]),s._v(" 定义变量")]),s._v(" "),t("ul",[t("li",[s._v("变量名与等号之间不能有空格")]),s._v(" "),t("li",[s._v("命名只能只用字母、数字、下划线")]),s._v(" "),t("li",[s._v("不使用美元符号 "),t("code",[s._v("$")])]),s._v(" "),t("li",[s._v("不能以数字开头")]),s._v(" "),t("li",[s._v("不能使用 bash 中的关键字（可以使用 help 命令查看保留关键字）")])]),s._v(" "),t("h3",{attrs:{id:"使用变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用变量"}},[s._v("#")]),s._v(" 使用变量")]),s._v(" "),t("p",[s._v("使用一个定义过的变量，需要在变量名前加 "),t("code",[s._v("$")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("a")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$a")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${a}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("变量名外的花括号可以选。")]),s._v(" "),t("h3",{attrs:{id:"只读变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#只读变量"}},[s._v("#")]),s._v(" 只读变量")]),s._v(" "),t("p",[s._v("使用 "),t("code",[s._v("readonly")]),s._v(" 关键字")]),s._v(" "),t("p",[s._v("script 内容：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("scheme")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("readonly")]),s._v(" scheme\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("scheme")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("执行脚本")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用 bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 作为参数执行")]),s._v("\n/bin/bash test.sh\ntest.sh: line "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(": scheme: "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("readonly")]),s._v(" variable\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用 zsh")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用 ./ 执行，不要忘记修改可执行权限")]),s._v("\n➜  Desktop "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x test.sh\n➜  Desktop ./test.sh\n./test.sh: line "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(": scheme: "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("readonly")]),s._v(" variable\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"删除变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除变量"}},[s._v("#")]),s._v(" 删除变量")]),s._v(" "),t("p",[s._v("使用 "),t("code",[s._v("unset")]),s._v(" 关键字")]),s._v(" "),t("p",[s._v("格式 "),t("code",[s._v("unset variable")])]),s._v(" "),t("p",[s._v("unset 不能删除只读变量")]),s._v(" "),t("h2",{attrs:{id:"shell-字符串"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell-字符串"}},[s._v("#")]),s._v(" Shell 字符串")]),s._v(" "),t("p",[s._v("字符串可以用双引号、单引号，也可以不用引号。")]),s._v(" "),t("h3",{attrs:{id:"单引号"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#单引号"}},[s._v("#")]),s._v(" 单引号")]),s._v(" "),t("ul",[t("li",[s._v("单引号中任何字符都会原样输出")]),s._v(" "),t("li",[s._v("单引号字符串中的变量无效")]),s._v(" "),t("li",[s._v("单引号中不可以出现单个单引号，即使是使用了转义")]),s._v(" "),t("li",[s._v("单引号中使用单引号，可以实现拼接，这时候可以使用变量")])]),s._v(" "),t("h3",{attrs:{id:"双引号"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#双引号"}},[s._v("#")]),s._v(" 双引号")]),s._v(" "),t("ul",[t("li",[s._v("可以使用变量")]),s._v(" "),t("li",[s._v("可以出现转义字符")])]),s._v(" "),t("h3",{attrs:{id:"字符串长度"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#字符串长度"}},[s._v("#")]),s._v(" 字符串长度")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("hello_str")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("#")]),s._v("hello_str}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出 5")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"提取子字符串"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#提取子字符串"}},[s._v("#")]),s._v(" 提取子字符串")]),s._v(" "),t("p",[s._v("从第 2 个字符开始，截取 3 个字符。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("hello_str")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${hello_str"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("1"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("3}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出 ell")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("索引从 0 开始")]),s._v(" "),t("h3",{attrs:{id:"查找子字符串"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查找子字符串"}},[s._v("#")]),s._v(" 查找子字符串")]),s._v(" "),t("p",[s._v("查找字符 i 或 o 的位置(哪个字母先出现就计算哪个)：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("string")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"runoob is a great site"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("expr")]),s._v(" index "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$string")]),s._v('"')]),s._v(" io"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出 4")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("注意： 以上脚本中 ` 是反引号，而不是单引号 "),t("code",[s._v("'")]),s._v("，不要看错了哦。")]),s._v(" "),t("h2",{attrs:{id:"shell-数组"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell-数组"}},[s._v("#")]),s._v(" Shell 数组")]),s._v(" "),t("p",[s._v("bash 支持一维数组（不支持多维数组），并且没有限定数组的大小。")]),s._v(" "),t("p",[s._v("类似于 C 语言，数组元素的下标由 0 开始编号。获取数组中的元素要利用下标，下标可以是整数或算术表达式，其值应大于或等于 0。")]),s._v(" "),t("h3",{attrs:{id:"定义数组"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#定义数组"}},[s._v("#")]),s._v(" 定义数组")]),s._v(" "),t("p",[s._v('在 Shell 中，用括号来表示数组，数组元素用"空格"符号分割开。定义数组的一般形式为：')]),s._v(" "),t("p",[s._v("数组名=(值1 值2 ... 值n)")]),s._v(" "),t("p",[s._v("例如：")]),s._v(" "),t("p",[t("code",[s._v("array_name=(value0 value1 value2 value3)")])]),s._v(" "),t("p",[s._v("或者")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("array_name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\nvalue0\nvalue1\nvalue2\nvalue3\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("还可以单独定义数组的各个分量：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("array_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("value0\narray_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("value1\narray_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("valuen\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("blockquote",[t("p",[s._v("可以不使用连续的下标，而且下标的范围没有限制。")])]),s._v(" "),t("h3",{attrs:{id:"读取数组"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#读取数组"}},[s._v("#")]),s._v(" 读取数组")]),s._v(" "),t("p",[s._v("读取数组元素值的一般格式是："),t("code",[s._v("${数组名[下标]}")])]),s._v(" "),t("p",[s._v("例 1：获取指定值 "),t("code",[s._v("value=${array_name[n]}")])]),s._v(" "),t("p",[s._v("使用 "),t("code",[s._v("@")]),s._v(" 可以使用获取数组中的所有元素")]),s._v(" "),t("p",[s._v("例 2："),t("code",[s._v("echo ${array_name[@]}")])]),s._v(" "),t("h3",{attrs:{id:"获取数组长度"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取数组长度"}},[s._v("#")]),s._v(" 获取数组长度")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 取得数组元素的个数")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("length")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("#")]),s._v("array_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("@"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("length")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("#")]),s._v("array_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 取得数组单个元素的长度")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("lengthn")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("#")]),s._v("array_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h2",{attrs:{id:"shell-运算符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell-运算符"}},[s._v("#")]),s._v(" Shell 运算符")]),s._v(" "),t("p",[s._v("Shell 和其他编程语言一样，支持多种运算符，包括：")]),s._v(" "),t("ul",[t("li",[s._v("算数运算符")]),s._v(" "),t("li",[s._v("关系运算符")]),s._v(" "),t("li",[s._v("布尔运算符")]),s._v(" "),t("li",[s._v("字符串运算符")]),s._v(" "),t("li",[s._v("文件测试运算符")])]),s._v(" "),t("p",[s._v("原生 bash 不支持简单的数学运算，但是可以通过其他命令来实现，例如 awk 和 expr，expr 最常用。")]),s._v(" "),t("p",[s._v("expr 是一款表达式计算工具，使用它能完成表达式的求值操作。")]),s._v(" "),t("p",[s._v("例如，两个数相加(注意使用的是反引号 ` 而不是单引号 "),t("code",[s._v("'")]),s._v(")：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("val")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("expr")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"两数之和为 : '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$val")]),s._v('"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("执行：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("两数之和为 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("两点注意：")]),s._v(" "),t("ul",[t("li",[s._v("表达式和运算符之间要有空格，例如 "),t("code",[s._v("2+2")]),s._v(" 是不对的，必须写成 "),t("code",[s._v("2 + 2")]),s._v("，这与我们熟悉的大多数编程语言不一样。")]),s._v(" "),t("li",[s._v("完整的表达式要被 `` 包含，注意这个字符不是常用的单引号，在 Esc 键下边。")])]),s._v(" "),t("h3",{attrs:{id:"算术运算符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#算术运算符"}},[s._v("#")]),s._v(" 算术运算符")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("+")]),s._v(" 加法 `"),t("code",[s._v("expr $a + $b")]),s._v("` 结果为 30")]),s._v(" "),t("li",[t("code",[s._v("-")]),s._v(" 减法 `"),t("code",[s._v("expr $a - $b")]),s._v("` 结果为 -10")]),s._v(" "),t("li",[t("code",[s._v("*")]),s._v(" 乘法 `"),t("code",[s._v("expr $a \\* $b")]),s._v("` 结果为 200\n"),t("ul",[t("li",[t("code",[s._v("*")]),s._v(" 在使用中需要写成 "),t("code",[s._v("\\*")]),s._v(" 来转义")])])]),s._v(" "),t("li",[t("code",[s._v("/")]),s._v(" 除法 `"),t("code",[s._v("expr $b / $a")]),s._v("` 结果为 2")]),s._v(" "),t("li",[t("code",[s._v("%")]),s._v(" 取余 `"),t("code",[s._v("expr $b % $a")]),s._v("` 结果为 0")]),s._v(" "),t("li",[t("code",[s._v("=")]),s._v(" 赋值 "),t("code",[s._v("a=$b")]),s._v(" 将把变量 b 的值赋给 a")]),s._v(" "),t("li",[t("code",[s._v("==")]),s._v(" 相等。用于比较两个数字，相同则返回 true\n"),t("ul",[t("li",[t("code",[s._v("[ $a == $b ]")]),s._v(" 返回 false。")])])]),s._v(" "),t("li",[t("code",[s._v("!=")]),s._v(" 不相等。用于比较两个数字，不相同则返回 true\n"),t("ul",[t("li",[t("code",[s._v("[ $a != $b ]")]),s._v(" 返回 true。")])])])]),s._v(" "),t("p",[t("strong",[s._v("注意：")]),s._v(" 条件表达式要放在方括号之间，并且要有空格，例如: "),t("code",[s._v("[$a==$b]")]),s._v(" 是错误的，必须写成 "),t("code",[s._v("[ $a == $b ]")]),s._v("。")]),s._v(" "),t("h3",{attrs:{id:"关系运算符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关系运算符"}},[s._v("#")]),s._v(" 关系运算符")]),s._v(" "),t("p",[s._v("关系运算符只支持数字，不支持字符串，除非字符串的值是数字。")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("-eq")]),s._v("，等于")]),s._v(" "),t("li",[t("code",[s._v("-ne")]),s._v("，不等")]),s._v(" "),t("li",[t("code",[s._v("-gt")]),s._v("，大于")]),s._v(" "),t("li",[t("code",[s._v("-lt")]),s._v("，小于")]),s._v(" "),t("li",[t("code",[s._v("-ge")]),s._v("，大于等于")]),s._v(" "),t("li",[t("code",[s._v("-le")]),s._v("，小于等于")])]),s._v(" "),t("p",[s._v("返回值是布尔值 true / false")]),s._v(" "),t("h3",{attrs:{id:"布尔运算符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#布尔运算符"}},[s._v("#")]),s._v(" 布尔运算符")]),s._v(" "),t("p",[s._v("格式： "),t("code",[s._v("[ $a ]")])]),s._v(" "),t("ul",[t("li",[t("code",[s._v("！")]),s._v("，非")]),s._v(" "),t("li",[t("code",[s._v("-o")]),s._v("，或")]),s._v(" "),t("li",[t("code",[s._v("-a")]),s._v("，与")])]),s._v(" "),t("h3",{attrs:{id:"逻辑运算符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#逻辑运算符"}},[s._v("#")]),s._v(" 逻辑运算符")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("&&")]),s._v("，逻辑与")]),s._v(" "),t("li",[t("code",[s._v("||")]),s._v("，逻辑或")])]),s._v(" "),t("h3",{attrs:{id:"字符串运算符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#字符串运算符"}},[s._v("#")]),s._v(" 字符串运算符")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("=")]),s._v("，检测两个字符串是否相等，相等返回 true")]),s._v(" "),t("li",[t("code",[s._v("！=")]),s._v("，两个字符串是否不相等")]),s._v(" "),t("li",[t("code",[s._v("-z")]),s._v("，字符串长度是否为 0")]),s._v(" "),t("li",[t("code",[s._v("-n")]),s._v("，字符串长度是否不为 0")]),s._v(" "),t("li",[t("code",[s._v("$")]),s._v("，字符串是否为空")])]),s._v(" "),t("h3",{attrs:{id:"文件测试运算符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文件测试运算符"}},[s._v("#")]),s._v(" 文件测试运算符")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("-b file")]),s._v("，检测文件是否为块设备文件")]),s._v(" "),t("li",[t("code",[s._v("-c")]),s._v("，是否是字符设备")]),s._v(" "),t("li",[t("code",[s._v("-d")]),s._v("，是否是目录")]),s._v(" "),t("li",[t("code",[s._v("-f")]),s._v("，是否为普通文件")]),s._v(" "),t("li",[t("code",[s._v("-g")]),s._v("，是否设置了 SGID 位")]),s._v(" "),t("li",[t("code",[s._v("-k")]),s._v("，是否设置了粘着位")]),s._v(" "),t("li",[t("code",[s._v("-p")]),s._v("，是否是有名管道")]),s._v(" "),t("li",[t("code",[s._v("-u")]),s._v("，是否设置了 SUID 位")]),s._v(" "),t("li",[t("code",[s._v("-r")]),s._v("，文件是否可读")]),s._v(" "),t("li",[t("code",[s._v("-w")]),s._v("，文件是否可写")]),s._v(" "),t("li",[t("code",[s._v("-x")]),s._v("，文件是否可执行")]),s._v(" "),t("li",[t("code",[s._v("-s")]),s._v("，文件是否为空，文件大小是否大于 0")]),s._v(" "),t("li",[t("code",[s._v("-e")]),s._v("，文件（包括目录）是否存在")])]),s._v(" "),t("p",[s._v("其他检查符：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("-S")]),s._v("，判断文件是否 socket")]),s._v(" "),t("li",[t("code",[s._v("-L")]),s._v("，判断文件是否存在并且是一个符号链接")])]),s._v(" "),t("h2",{attrs:{id:"shell-传递参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell-传递参数"}},[s._v("#")]),s._v(" Shell 传递参数")]),s._v(" "),t("p",[s._v("我们可以在执行 Shell 脚本时，向脚本传递参数，脚本内获取参数的格式为："),t("code",[s._v("$n")]),s._v("。")]),s._v(" "),t("p",[s._v("n 代表一个数字，1 为执行脚本的第一个参数，2 为执行脚本的第二个参数，以此类推 ...")]),s._v(" "),t("p",[s._v("示例：")]),s._v(" "),t("p",[s._v("编写脚本：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" 第一个参数："),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" 第一个参数："),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" 第一个参数："),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$3")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("执行：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("./test.sh "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("\n第一个参数：9\n第一个参数：8\n第一个参数：7\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"参数处理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参数处理"}},[s._v("#")]),s._v(" 参数处理")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("$#")]),s._v(" 传递到脚本的参数个数。")]),s._v(" "),t("li",[t("code",[s._v("$*")]),s._v(" 以一个单字符串显示所有向脚本传递的参数。\n"),t("ul",[t("li",[s._v("如 "),t("code",[s._v("$*")]),s._v(" 用 "),t("code",[s._v('"')]),s._v(" 括起来的情况、以 "),t("code",[s._v('"$1 $2 … $n"')]),s._v(" 的形式输出所有参数。")])])]),s._v(" "),t("li",[t("code",[s._v("$$")]),s._v(" 脚本运行的当前进程 ID 号。")]),s._v(" "),t("li",[t("code",[s._v("$!")]),s._v(" 后台运行的最后一个进程的ID号。")]),s._v(" "),t("li",[t("code",[s._v("$@")]),s._v(" 与 "),t("code",[s._v("$*")]),s._v(" 相同，但是使用时加引号，并在引号中返回每个参数。\n"),t("ul",[t("li",[s._v("如 "),t("code",[s._v("$@")]),s._v(" 用 "),t("code",[s._v('"')]),s._v(" 括起来的情况、以 "),t("code",[s._v('"$1"')]),s._v(" "),t("code",[s._v('"$2"')]),s._v(" … "),t("code",[s._v('"$n"')]),s._v(" 的形式输出所有参数。")])])]),s._v(" "),t("li",[t("code",[s._v("$-")]),s._v(" 显示 Shell 使用的当前选项，与 set 命令功能相同。")]),s._v(" "),t("li",[t("code",[s._v("$?")]),s._v(" 显示最后命令的退出状态。0 表示没有错误，其他任何值表明有错误。")])]),s._v(" "),t("h3",{attrs:{id:"与-区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#与-区别"}},[s._v("#")]),s._v(" "),t("code",[s._v("$*")]),s._v(" 与 "),t("code",[s._v("$@")]),s._v(" 区别")]),s._v(" "),t("p",[s._v("相同点：都是引用所有参数。")]),s._v(" "),t("p",[s._v('不同点：只有在双引号中体现出来。假设在脚本运行时写了三个参数 1、2、3，则 "*" 等价于 "1 2 3"（传递了一个参数），而 "@" 等价于 "1" "2" "3"（传递了三个参数）。')]),s._v(" "),t("h2",{attrs:{id:"echo-命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#echo-命令"}},[s._v("#")]),s._v(" echo 命令")]),s._v(" "),t("p",[s._v("用于输出字符串： "),t("code",[s._v("echo string")])]),s._v(" "),t("h3",{attrs:{id:"显示普通字符串"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#显示普通字符串"}},[s._v("#")]),s._v(" 显示普通字符串")]),s._v(" "),t("p",[t("code",[s._v('echo "hello world"')])]),s._v(" "),t("p",[s._v("双引号可以省略：")]),s._v(" "),t("p",[t("code",[s._v("echo hello world")])]),s._v(" "),t("h3",{attrs:{id:"显示转义字符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#显示转义字符"}},[s._v("#")]),s._v(" 显示转义字符")]),s._v(" "),t("p",[t("code",[s._v('echo "\\"hello world\\""')])]),s._v(" "),t("p",[s._v("结果是：")]),s._v(" "),t("p",[t("code",[s._v('"hello world"')])]),s._v(" "),t("h3",{attrs:{id:"显示变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#显示变量"}},[s._v("#")]),s._v(" 显示变量")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("wang\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$name")]),s._v('"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("结果是：")]),s._v(" "),t("p",[t("code",[s._v("wang")])]),s._v(" "),t("p",[s._v("read 命令从标准输入中读取一行,并把输入行的每个字段的值指定给 shell 变量")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/sh")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" name\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$name")]),s._v(' It is a test"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"显示结果定向到文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#显示结果定向到文件"}},[s._v("#")]),s._v(" 显示结果定向到文件")]),s._v(" "),t("p",[t("code",[s._v('echo "hello world" > file1')])]),s._v(" "),t("h3",{attrs:{id:"原样输出字符串"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#原样输出字符串"}},[s._v("#")]),s._v(" 原样输出字符串")]),s._v(" "),t("p",[s._v("不进行转义、取变量，使用单引号")]),s._v(" "),t("p",[t("code",[s._v("echo '$name\\\"'")])]),s._v(" "),t("p",[s._v("结果是：")]),s._v(" "),t("p",[t("code",[s._v('$name\\"')])]),s._v(" "),t("h3",{attrs:{id:"显示命令执行结果"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#显示命令执行结果"}},[s._v("#")]),s._v(" 显示命令执行结果")]),s._v(" "),t("p",[s._v("echo `date`")]),s._v(" "),t("p",[t("strong",[s._v("注意：")]),s._v(" 这里使用的是反引号")]),s._v(" "),t("h2",{attrs:{id:"printf-命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#printf-命令"}},[s._v("#")]),s._v(" printf 命令")]),s._v(" "),t("p",[s._v("类似于 echo 命令，printf 是一个输出命令，这个命令是模仿了 C 中的 printf() 程序。")]),s._v(" "),t("p",[s._v("printf 由 POSIX 标准定义，所以移植性比 echo 要好。")]),s._v(" "),t("p",[s._v("printf 使用引用文本或空格分隔的参数。")]),s._v(" "),t("p",[s._v("默认的 printf 不会像 echo 一样自动添加换行符，需要手动添加 "),t("code",[s._v("\\n")])]),s._v(" "),t("p",[t("code",[s._v("%s")]),s._v(" "),t("code",[s._v("%c")]),s._v(" "),t("code",[s._v("%d")]),s._v(" "),t("code",[s._v("%f")]),s._v(" 都是格式替代符：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("％s")]),s._v(" 输出一个字符串")]),s._v(" "),t("li",[t("code",[s._v("％d")]),s._v(" 整型输出")]),s._v(" "),t("li",[t("code",[s._v("％c")]),s._v(" 输出一个字符")]),s._v(" "),t("li",[t("code",[s._v("％f")]),s._v(" 输出实数，以小数形式输出\n"),t("ul",[t("li",[t("code",[s._v("%-4.2f")]),s._v("，格式化为小数，保留两位小数，左对齐。")])])])]),s._v(" "),t("p",[s._v("示例：")]),s._v(" "),t("p",[t("code",[s._v('printf "hello world %-5s" hi \\n')])]),s._v(" "),t("p",[t("code",[s._v("%-5s")]),s._v("，是一个占位符，"),t("code",[s._v("-")]),s._v(" 是指左对齐，5 是指占 5 位。")]),s._v(" "),t("h2",{attrs:{id:"test-命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#test-命令"}},[s._v("#")]),s._v(" test 命令")]),s._v(" "),t("p",[s._v("test 命令用于检查某个条件是否成立，它可以进行数值、字符和文件三个方面的测试。")]),s._v(" "),t("p",[s._v("示例：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("num1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("num2")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$num1")]),s._v(" -eq "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$num2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"相等"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"不等"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("num1+1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" -eq $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("num2+1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"相等"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"不等"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("p",[t("code",[s._v("[]")]),s._v(" 执行基本的算数运算")]),s._v(" "),t("h2",{attrs:{id:"流程控制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#流程控制"}},[s._v("#")]),s._v(" 流程控制")]),s._v(" "),t("h3",{attrs:{id:"if-else"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#if-else"}},[s._v("#")]),s._v(" IF ELSE")]),s._v(" "),t("p",[s._v("语法：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" condition\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    command1\n    command2\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("if else-if else")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" condition1\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    command1\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elif")]),s._v(" condition2\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    command2\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("示例：")]),s._v(" "),t("p",[s._v("写成一行(适用于终端命令提示符)")]),s._v(" "),t("p",[t("code",[s._v('if [ $(ps -ef | grep -c "ssh") -gt 1 ]; then echo "true"; fi')])]),s._v(" "),t("h3",{attrs:{id:"for"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#for"}},[s._v("#")]),s._v(" FOR")]),s._v(" "),t("p",[s._v("格式：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("var")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" item1\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    command1\n    command2\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("写成一行")]),s._v(" "),t("p",[t("code",[s._v("for var in item1 item2 ... itemN; do command1; command2… done;")])]),s._v(" "),t("p",[s._v("示例：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("loop")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"The value is: '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$loop")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n---结果\nThe value is: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nThe value is: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nThe value is: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\nThe value is: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\nThe value is: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("str")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" This is a string\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$str")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n---结果\nThis\nis\na\nstring\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h3",{attrs:{id:"while"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#while"}},[s._v("#")]),s._v(" WHILE")]),s._v(" "),t("p",[s._v("格式：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" condition\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("示例：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("int")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("((")]),s._v(" $int"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$int")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("let")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"int++"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n---结果\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("p",[s._v("这里使用了 Bash let 命令，它用于执行一个或多个表达式，变量计算中不需要加上 "),t("code",[s._v("$")]),s._v(" 来表示变量。")]),s._v(" "),t("h3",{attrs:{id:"until"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#until"}},[s._v("#")]),s._v(" UNTIL")]),s._v(" "),t("p",[s._v("until 循环执行一系列命令直至条件为 true 时停止")]),s._v(" "),t("p",[s._v("until 循环与 while 循环在处理方式上相反")]),s._v(" "),t("p",[s._v("一般 while 循环优于 until 循环，但有时，until 更好用")]),s._v(" "),t("p",[s._v("格式：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("until")]),s._v(" condition\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("示例：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出 0-9")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("a")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("until")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$a")]),s._v(" -lt "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$a")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("a")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("expr")]),s._v(" $a +1"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n---结果\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("h3",{attrs:{id:"case"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#case"}},[s._v("#")]),s._v(" CASE")]),s._v(" "),t("p",[s._v("相当于 switch ... case 语句，多分支结构。")]),s._v(" "),t("p",[s._v("格式：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" 值 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("\n模式1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    command1\n    command2\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n模式2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    command3\n    command4\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    command5\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("esac")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("p",[t("code",[s._v(";;")]),s._v(" 两个分号表示 break，跳出整个 case 循环，"),t("code",[s._v("*")]),s._v(" 星号表示 default。")]),s._v(" "),t("p",[s._v("示例：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" num\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" num "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" hello\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" hi\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" world\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("esac")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h3",{attrs:{id:"无限循环"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#无限循环"}},[s._v("#")]),s._v(" 无限循环")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("或者")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("或者")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("((")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"跳出循环"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#跳出循环"}},[s._v("#")]),s._v(" 跳出循环")]),s._v(" "),t("h4",{attrs:{id:"break"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#break"}},[s._v("#")]),s._v(" break")]),s._v(" "),t("p",[s._v("功能：跳出循环")]),s._v(" "),t("p",[s._v("示例：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" -n "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"输入 1 到 5 之间的数字:"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" aNum\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$aNum")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"你输入的数字为 '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$aNum")]),s._v('!"')]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        *"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"你输入的数字不是 1 到 5 之间的! 游戏结束"')]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("break")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("esac")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n---结果\n输入 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" 到 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" 之间的数字:3\n你输入的数字为 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n输入 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" 到 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" 之间的数字:7\n你输入的数字不是 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" 到 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" 之间的"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" 游戏结束\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("h4",{attrs:{id:"continue"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#continue"}},[s._v("#")]),s._v(" continue")]),s._v(" "),t("p",[s._v("功能：跳出当前循环")]),s._v(" "),t("h2",{attrs:{id:"shell-函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell-函数"}},[s._v("#")]),s._v(" Shell 函数")]),s._v(" "),t("h3",{attrs:{id:"函数定义"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#函数定义"}},[s._v("#")]),s._v(" 函数定义")]),s._v(" "),t("p",[s._v("定义格式：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("fun")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    action；\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("return")]),s._v(" int；\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("函数返回值在调用该函数后通过 "),t("code",[s._v("$?")]),s._v(" 来获得。")]),s._v(" "),t("p",[s._v("示例：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("funWithReturn")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"这个函数会对输入的两个数字进行相加运算..."')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"输入第一个数字: "')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" aNum\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"输入第二个数字: "')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" anotherNum\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"两个数字分别为 '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$aNum")]),s._v(" 和 "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$anotherNum")]),s._v(' !"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$((")]),s._v("$aNum"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("$anotherNum"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("))")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行函数")]),s._v("\nfunWithReturn\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用 $? 取函数返回值")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"输入的两个数字之和为 '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$?")]),s._v(' !"')]),s._v("\n---结果\n这个函数会对输入的两个数字进行相加运算"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n输入第一个数字:\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n输入第二个数字:\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n两个数字分别为 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" 和 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n输入的两个数字之和为 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("p",[t("strong",[s._v("注意：")]),s._v(" 所有函数在使用前必须定义。\n这意味着必须将函数放在脚本开始部分，直至 shell 解释器首次发现它时，才可以使用。")]),s._v(" "),t("p",[s._v("调用函数仅使用其函数名即可。")]),s._v(" "),t("h3",{attrs:{id:"函数参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#函数参数"}},[s._v("#")]),s._v(" 函数参数")]),s._v(" "),t("p",[s._v("在函数内部使用 "),t("code",[s._v("$n")]),s._v(" 来取值，传值 "),t("code",[s._v("函数名 p1 p2")]),s._v("。")]),s._v(" "),t("p",[t("strong",[s._v("注意：")]),s._v(" "),t("code",[s._v("$10")]),s._v(" 取不到第 10 个函数值，需要使用 "),t("code",[s._v("${10}")]),s._v(" 形式取值。")]),s._v(" "),t("p",[s._v("当 n>=10 的时候，需要使用 "),t("code",[s._v("${n}")]),s._v(" 的形式进行取值。")]),s._v(" "),t("h2",{attrs:{id:"文件包含"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文件包含"}},[s._v("#")]),s._v(" 文件包含")]),s._v(" "),t("p",[s._v("和其他语言一样，Shell 也可以包含外部脚本。这样可以很方便的封装一些公用的代码作为一个独立的文件。")]),s._v(" "),t("p",[s._v("Shell 文件包含的语法格式如下：")]),s._v(" "),t("p",[t("code",[s._v(". filename # 注意点号(.)和文件名中间有一空格")])]),s._v(" "),t("p",[s._v("或")]),s._v(" "),t("p",[t("code",[s._v("source filename")])]),s._v(" "),t("p",[s._v("示例：")]),s._v(" "),t("p",[s._v("创建两个 shell 脚本文件。")]),s._v(" "),t("p",[s._v("test1.sh 代码如下：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello world"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("test2.sh 代码如下：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#使用 . 号来引用test1.sh 文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" ./test1.sh\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者使用以下包含文件代码")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# source ./test1.sh")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"文件 1 中是：'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$name")]),s._v('"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("接下来，我们为 test2.sh 添加可执行权限并执行：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x test2.sh\n./test2.sh\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("strong",[s._v("注意：")]),s._v(" 被包含的文件 test1.sh 不需要可执行权限。")]),s._v(" "),t("h2",{attrs:{id:"讨论区"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#讨论区"}},[s._v("#")]),s._v(" 讨论区")]),s._v(" "),t("blockquote",[t("p",[s._v("由于评论过多会影响页面最下方的导航，故将评论区做默认折叠处理。")])]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("点击查看评论区内容，渴望您的宝贵建议~")]),s._v(" "),t("Vssue",{attrs:{title:s.$title,options:{locale:"zh"}}})],1)])}),[],!1,null,null,null);a.default=n.exports}}]);