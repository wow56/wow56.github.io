<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>代码整洁之道 | Wow56 个人知识库</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/flaglogo.png">
    <link rel="manifest" href="/flaglogo.png">
    <link rel="apple-touch-icon" href="/flaglogo.png">
    <meta name="description" content="Never stop learning">
    
    <link rel="preload" href="/assets/css/0.styles.b25eaea0.css" as="style"><link rel="preload" href="/assets/js/app.5780eb53.js" as="script"><link rel="preload" href="/assets/js/2.e1f1d232.js" as="script"><link rel="preload" href="/assets/js/120.2639e06f.js" as="script"><link rel="prefetch" href="/assets/js/10.921c058c.js"><link rel="prefetch" href="/assets/js/100.678efb16.js"><link rel="prefetch" href="/assets/js/101.6fd33b9c.js"><link rel="prefetch" href="/assets/js/102.dfa6e733.js"><link rel="prefetch" href="/assets/js/103.4b74461a.js"><link rel="prefetch" href="/assets/js/104.603354fe.js"><link rel="prefetch" href="/assets/js/105.9da719c4.js"><link rel="prefetch" href="/assets/js/106.6aa24318.js"><link rel="prefetch" href="/assets/js/107.5ea57319.js"><link rel="prefetch" href="/assets/js/108.37ded6f2.js"><link rel="prefetch" href="/assets/js/109.adc40804.js"><link rel="prefetch" href="/assets/js/11.00deed7e.js"><link rel="prefetch" href="/assets/js/110.f1791c33.js"><link rel="prefetch" href="/assets/js/111.bff2cea6.js"><link rel="prefetch" href="/assets/js/112.4eb7e8b1.js"><link rel="prefetch" href="/assets/js/113.4ca0e39f.js"><link rel="prefetch" href="/assets/js/114.03d070d7.js"><link rel="prefetch" href="/assets/js/115.a007d470.js"><link rel="prefetch" href="/assets/js/116.027c798b.js"><link rel="prefetch" href="/assets/js/117.6eaa95a7.js"><link rel="prefetch" href="/assets/js/118.3468f2af.js"><link rel="prefetch" href="/assets/js/119.94c060f2.js"><link rel="prefetch" href="/assets/js/12.e7e7feff.js"><link rel="prefetch" href="/assets/js/121.1ee7e578.js"><link rel="prefetch" href="/assets/js/122.d1f0654b.js"><link rel="prefetch" href="/assets/js/123.52d57be3.js"><link rel="prefetch" href="/assets/js/124.d515f509.js"><link rel="prefetch" href="/assets/js/125.c783db82.js"><link rel="prefetch" href="/assets/js/126.08d41fac.js"><link rel="prefetch" href="/assets/js/127.5ab5b3c5.js"><link rel="prefetch" href="/assets/js/13.c0e1c39d.js"><link rel="prefetch" href="/assets/js/14.4be8face.js"><link rel="prefetch" href="/assets/js/15.b235fe5f.js"><link rel="prefetch" href="/assets/js/16.a62bd2ec.js"><link rel="prefetch" href="/assets/js/17.d3fa5b5a.js"><link rel="prefetch" href="/assets/js/18.04056df6.js"><link rel="prefetch" href="/assets/js/19.e0daa831.js"><link rel="prefetch" href="/assets/js/20.aae5efb2.js"><link rel="prefetch" href="/assets/js/21.51bfd139.js"><link rel="prefetch" href="/assets/js/22.d92aecaf.js"><link rel="prefetch" href="/assets/js/23.fd2079a6.js"><link rel="prefetch" href="/assets/js/24.7cadaa30.js"><link rel="prefetch" href="/assets/js/25.38c9c1a4.js"><link rel="prefetch" href="/assets/js/26.1c8277a8.js"><link rel="prefetch" href="/assets/js/27.1e495f81.js"><link rel="prefetch" href="/assets/js/28.7ef5af76.js"><link rel="prefetch" href="/assets/js/29.9031cb92.js"><link rel="prefetch" href="/assets/js/3.93a08b3b.js"><link rel="prefetch" href="/assets/js/30.1b61bbf8.js"><link rel="prefetch" href="/assets/js/31.f8cbfd44.js"><link rel="prefetch" href="/assets/js/32.0632cb94.js"><link rel="prefetch" href="/assets/js/33.a46a0b3d.js"><link rel="prefetch" href="/assets/js/34.fba531e6.js"><link rel="prefetch" href="/assets/js/35.db1fd348.js"><link rel="prefetch" href="/assets/js/36.9e6108c6.js"><link rel="prefetch" href="/assets/js/37.35fca0f6.js"><link rel="prefetch" href="/assets/js/38.ac22df93.js"><link rel="prefetch" href="/assets/js/39.7cce2902.js"><link rel="prefetch" href="/assets/js/4.e30be376.js"><link rel="prefetch" href="/assets/js/40.3560e650.js"><link rel="prefetch" href="/assets/js/41.d4632345.js"><link rel="prefetch" href="/assets/js/42.adce46c5.js"><link rel="prefetch" href="/assets/js/43.d2ff2a7e.js"><link rel="prefetch" href="/assets/js/44.d3f6ac6e.js"><link rel="prefetch" href="/assets/js/45.1e3b049e.js"><link rel="prefetch" href="/assets/js/46.917a9a8a.js"><link rel="prefetch" href="/assets/js/47.5a73f25d.js"><link rel="prefetch" href="/assets/js/48.3b970b0a.js"><link rel="prefetch" href="/assets/js/49.dc6fd937.js"><link rel="prefetch" href="/assets/js/5.9411f932.js"><link rel="prefetch" href="/assets/js/50.109fdeb5.js"><link rel="prefetch" href="/assets/js/51.5ec4fc4b.js"><link rel="prefetch" href="/assets/js/52.0c03ff96.js"><link rel="prefetch" href="/assets/js/53.e91a6f48.js"><link rel="prefetch" href="/assets/js/54.7f886adb.js"><link rel="prefetch" href="/assets/js/55.2747b24f.js"><link rel="prefetch" href="/assets/js/56.a78db785.js"><link rel="prefetch" href="/assets/js/57.517d420c.js"><link rel="prefetch" href="/assets/js/58.0429f17c.js"><link rel="prefetch" href="/assets/js/59.9d68455f.js"><link rel="prefetch" href="/assets/js/6.3e126bb5.js"><link rel="prefetch" href="/assets/js/60.7cc000dc.js"><link rel="prefetch" href="/assets/js/61.8eaec827.js"><link rel="prefetch" href="/assets/js/62.9eb7a7b3.js"><link rel="prefetch" href="/assets/js/63.35e36177.js"><link rel="prefetch" href="/assets/js/64.6282d042.js"><link rel="prefetch" href="/assets/js/65.58ed4699.js"><link rel="prefetch" href="/assets/js/66.971cb02f.js"><link rel="prefetch" href="/assets/js/67.0a93b287.js"><link rel="prefetch" href="/assets/js/68.a7b05e3b.js"><link rel="prefetch" href="/assets/js/69.6572830f.js"><link rel="prefetch" href="/assets/js/7.de70efc4.js"><link rel="prefetch" href="/assets/js/70.168da9d9.js"><link rel="prefetch" href="/assets/js/71.d57d693b.js"><link rel="prefetch" href="/assets/js/72.91fa5cd3.js"><link rel="prefetch" href="/assets/js/73.7de2d2b8.js"><link rel="prefetch" href="/assets/js/74.acd298e4.js"><link rel="prefetch" href="/assets/js/75.62e67874.js"><link rel="prefetch" href="/assets/js/76.f2b96539.js"><link rel="prefetch" href="/assets/js/77.4255efc8.js"><link rel="prefetch" href="/assets/js/78.114300ba.js"><link rel="prefetch" href="/assets/js/79.d14a2756.js"><link rel="prefetch" href="/assets/js/8.1ec756ec.js"><link rel="prefetch" href="/assets/js/80.3fd73e00.js"><link rel="prefetch" href="/assets/js/81.71ebdbf4.js"><link rel="prefetch" href="/assets/js/82.0a5b5bb1.js"><link rel="prefetch" href="/assets/js/83.a23907a9.js"><link rel="prefetch" href="/assets/js/84.8c2bc996.js"><link rel="prefetch" href="/assets/js/85.ed1b9552.js"><link rel="prefetch" href="/assets/js/86.49d44a86.js"><link rel="prefetch" href="/assets/js/87.33153d90.js"><link rel="prefetch" href="/assets/js/88.a021dc21.js"><link rel="prefetch" href="/assets/js/89.b80b10c6.js"><link rel="prefetch" href="/assets/js/9.24d5e519.js"><link rel="prefetch" href="/assets/js/90.a059a06c.js"><link rel="prefetch" href="/assets/js/91.0c2e07a8.js"><link rel="prefetch" href="/assets/js/92.0460267f.js"><link rel="prefetch" href="/assets/js/93.630cc9b9.js"><link rel="prefetch" href="/assets/js/94.64e96711.js"><link rel="prefetch" href="/assets/js/95.cc7ee0e1.js"><link rel="prefetch" href="/assets/js/96.43f96f85.js"><link rel="prefetch" href="/assets/js/97.73dc1af0.js"><link rel="prefetch" href="/assets/js/98.10b4ffee.js"><link rel="prefetch" href="/assets/js/99.e6bfc1cd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b25eaea0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/flaglogo.png" alt="Wow56 个人知识库" class="logo"> <span class="site-name can-hide">Wow56 个人知识库</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/base/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="语言/语法" class="dropdown-title"><span class="title">语言/语法</span> <span class="arrow down"></span></button> <button type="button" aria-label="语言/语法" class="mobile-dropdown-title"><span class="title">语言/语法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lang/java/" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/lang/go/" class="nav-link">
  Go
</a></li><li class="dropdown-item"><!----> <a href="/lang/php/" class="nav-link">
  PHP
</a></li><li class="dropdown-item"><!----> <a href="/lang/js/" class="nav-link">
  Java Script
</a></li><li class="dropdown-item"><!----> <a href="/lang/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/lang/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/lang/regex/" class="nav-link">
  Regex
</a></li><li class="dropdown-item"><!----> <a href="/lang/script/" class="nav-link">
  脚本 Script
</a></li><li class="dropdown-item"><!----> <a href="/lang/markdown/" class="nav-link">
  Markdown
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架/类库" class="dropdown-title"><span class="title">框架/类库</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架/类库" class="mobile-dropdown-title"><span class="title">框架/类库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          应用程序
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/spring/" class="nav-link">
  Spring 生态
</a></li><li class="dropdown-subitem"><a href="/framework/vue/" class="nav-link">
  Vue
</a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/gis/" class="nav-link">
  Web GIS
</a></li><li class="dropdown-subitem"><a href="/framework/echarts/" class="nav-link">
  ECahrts
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          关系型
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/mysql/" class="nav-link">
  MySQL
</a></li></ul></li><li class="dropdown-item"><h4>
          非关系型
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/mongodb/" class="nav-link">
  MongoDB
</a></li><li class="dropdown-subitem"><a href="/db/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-subitem"><a href="/db/es/" class="nav-link">
  Elasticsearch
</a></li></ul></li><li class="dropdown-item"><h4>
          持久层框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/mybatis/" class="nav-link">
  MyBatis
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="应用技术" class="dropdown-title"><span class="title">应用技术</span> <span class="arrow down"></span></button> <button type="button" aria-label="应用技术" class="mobile-dropdown-title"><span class="title">应用技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/applied-tech/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/svn/" class="nav-link">
  SVN
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/maven/" class="nav-link">
  Maven
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/mq/" class="nav-link">
  MQ
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/k8s/" class="nav-link">
  Kubernetes
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/cas/" class="nav-link">
  CAS
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/workflow/" class="nav-link">
  Workflow
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机素养" class="dropdown-title"><span class="title">计算机素养</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机素养" class="mobile-dropdown-title"><span class="title">计算机素养</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/computer-literacy/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/computer-literacy/network/" class="nav-link">
  网络
</a></li><li class="dropdown-item"><!----> <a href="/computer-literacy/security/" class="nav-link">
  安全
</a></li><li class="dropdown-item"><!----> <a href="/computer-literacy/data-structure/" class="nav-link">
  数据结构
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发常识" class="dropdown-title"><span class="title">开发常识</span> <span class="arrow down"></span></button> <button type="button" aria-label="开发常识" class="mobile-dropdown-title"><span class="title">开发常识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/common-sense/common/common_sense.html" class="nav-link">
  常识
</a></li><li class="dropdown-item"><!----> <a href="/common-sense/ide-settings/" class="nav-link">
  IDE 开发环境配置
</a></li><li class="dropdown-item"><!----> <a href="/common-sense/log/" class="nav-link">
  Log
</a></li><li class="dropdown-item"><!----> <a href="/common-sense/test/" class="nav-link">
  Test
</a></li><li class="dropdown-item"><!----> <a href="/common-sense/swagger/" class="nav-link">
  Swagger
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分享" class="dropdown-title"><span class="title">分享</span> <span class="arrow down"></span></button> <button type="button" aria-label="分享" class="mobile-dropdown-title"><span class="title">分享</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/share/faq/" class="nav-link">
  FAQ
</a></li><li class="dropdown-item"><!----> <a href="/share/recommend/" class="nav-link">
  推荐
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="阅读" class="dropdown-title"><span class="title">阅读</span> <span class="arrow down"></span></button> <button type="button" aria-label="阅读" class="mobile-dropdown-title"><span class="title">阅读</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/read/effective_java.html" class="nav-link">
  Effective Java
</a></li><li class="dropdown-item"><!----> <a href="/read/clean_code.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  代码整洁之道
</a></li><li class="dropdown-item"><!----> <a href="/read/coding_style.html" class="nav-link">
  Coding Style
</a></li><li class="dropdown-item"><!----> <a href="/read/gx.html" class="nav-link">
  高项笔记
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/wow56/wow56.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/base/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="语言/语法" class="dropdown-title"><span class="title">语言/语法</span> <span class="arrow down"></span></button> <button type="button" aria-label="语言/语法" class="mobile-dropdown-title"><span class="title">语言/语法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lang/java/" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/lang/go/" class="nav-link">
  Go
</a></li><li class="dropdown-item"><!----> <a href="/lang/php/" class="nav-link">
  PHP
</a></li><li class="dropdown-item"><!----> <a href="/lang/js/" class="nav-link">
  Java Script
</a></li><li class="dropdown-item"><!----> <a href="/lang/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/lang/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/lang/regex/" class="nav-link">
  Regex
</a></li><li class="dropdown-item"><!----> <a href="/lang/script/" class="nav-link">
  脚本 Script
</a></li><li class="dropdown-item"><!----> <a href="/lang/markdown/" class="nav-link">
  Markdown
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架/类库" class="dropdown-title"><span class="title">框架/类库</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架/类库" class="mobile-dropdown-title"><span class="title">框架/类库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          应用程序
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/spring/" class="nav-link">
  Spring 生态
</a></li><li class="dropdown-subitem"><a href="/framework/vue/" class="nav-link">
  Vue
</a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/gis/" class="nav-link">
  Web GIS
</a></li><li class="dropdown-subitem"><a href="/framework/echarts/" class="nav-link">
  ECahrts
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          关系型
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/mysql/" class="nav-link">
  MySQL
</a></li></ul></li><li class="dropdown-item"><h4>
          非关系型
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/mongodb/" class="nav-link">
  MongoDB
</a></li><li class="dropdown-subitem"><a href="/db/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-subitem"><a href="/db/es/" class="nav-link">
  Elasticsearch
</a></li></ul></li><li class="dropdown-item"><h4>
          持久层框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/mybatis/" class="nav-link">
  MyBatis
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="应用技术" class="dropdown-title"><span class="title">应用技术</span> <span class="arrow down"></span></button> <button type="button" aria-label="应用技术" class="mobile-dropdown-title"><span class="title">应用技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/applied-tech/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/svn/" class="nav-link">
  SVN
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/maven/" class="nav-link">
  Maven
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/mq/" class="nav-link">
  MQ
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/k8s/" class="nav-link">
  Kubernetes
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/cas/" class="nav-link">
  CAS
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/workflow/" class="nav-link">
  Workflow
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机素养" class="dropdown-title"><span class="title">计算机素养</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机素养" class="mobile-dropdown-title"><span class="title">计算机素养</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/computer-literacy/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/computer-literacy/network/" class="nav-link">
  网络
</a></li><li class="dropdown-item"><!----> <a href="/computer-literacy/security/" class="nav-link">
  安全
</a></li><li class="dropdown-item"><!----> <a href="/computer-literacy/data-structure/" class="nav-link">
  数据结构
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发常识" class="dropdown-title"><span class="title">开发常识</span> <span class="arrow down"></span></button> <button type="button" aria-label="开发常识" class="mobile-dropdown-title"><span class="title">开发常识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/common-sense/common/common_sense.html" class="nav-link">
  常识
</a></li><li class="dropdown-item"><!----> <a href="/common-sense/ide-settings/" class="nav-link">
  IDE 开发环境配置
</a></li><li class="dropdown-item"><!----> <a href="/common-sense/log/" class="nav-link">
  Log
</a></li><li class="dropdown-item"><!----> <a href="/common-sense/test/" class="nav-link">
  Test
</a></li><li class="dropdown-item"><!----> <a href="/common-sense/swagger/" class="nav-link">
  Swagger
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分享" class="dropdown-title"><span class="title">分享</span> <span class="arrow down"></span></button> <button type="button" aria-label="分享" class="mobile-dropdown-title"><span class="title">分享</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/share/faq/" class="nav-link">
  FAQ
</a></li><li class="dropdown-item"><!----> <a href="/share/recommend/" class="nav-link">
  推荐
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="阅读" class="dropdown-title"><span class="title">阅读</span> <span class="arrow down"></span></button> <button type="button" aria-label="阅读" class="mobile-dropdown-title"><span class="title">阅读</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/read/effective_java.html" class="nav-link">
  Effective Java
</a></li><li class="dropdown-item"><!----> <a href="/read/clean_code.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  代码整洁之道
</a></li><li class="dropdown-item"><!----> <a href="/read/coding_style.html" class="nav-link">
  Coding Style
</a></li><li class="dropdown-item"><!----> <a href="/read/gx.html" class="nav-link">
  高项笔记
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/wow56/wow56.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/read/effective_java.html" class="sidebar-link">Effective Java</a></li><li><a href="/read/clean_code.html" aria-current="page" class="active sidebar-link">代码整洁之道</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/read/clean_code.html#参考文档" class="sidebar-link">参考文档</a></li><li class="sidebar-sub-header"><a href="/read/clean_code.html#later-equals-never-稍后等于永不" class="sidebar-link">Later equals never，稍后等于永不</a></li><li class="sidebar-sub-header"><a href="/read/clean_code.html#第-1-章-整洁代码" class="sidebar-link">第 1 章 整洁代码</a></li><li class="sidebar-sub-header"><a href="/read/clean_code.html#第-2-章-有意义的命名" class="sidebar-link">第 2 章 有意义的命名</a></li><li class="sidebar-sub-header"><a href="/read/clean_code.html#第-3-章-函数" class="sidebar-link">第 3 章 函数</a></li><li class="sidebar-sub-header"><a href="/read/clean_code.html#第-4-章-注释" class="sidebar-link">第 4 章 注释</a></li><li class="sidebar-sub-header"><a href="/read/clean_code.html#第-5-章-格式" class="sidebar-link">第 5 章 格式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/read/clean_code.html#垂直格式" class="sidebar-link">垂直格式</a></li><li class="sidebar-sub-header"><a href="/read/clean_code.html#横向格式" class="sidebar-link">横向格式</a></li></ul></li><li class="sidebar-sub-header"><a href="/read/clean_code.html#第-6-章-对象和数据结构" class="sidebar-link">第 6 章 对象和数据结构</a></li><li class="sidebar-sub-header"><a href="/read/clean_code.html#第-7-章-错误处理" class="sidebar-link">第 7 章 错误处理</a></li><li class="sidebar-sub-header"><a href="/read/clean_code.html#第-8-章-边界" class="sidebar-link">第 8 章 边界</a></li><li class="sidebar-sub-header"><a href="/read/clean_code.html#第-9-章-单元测试" class="sidebar-link">第 9 章 单元测试</a></li><li class="sidebar-sub-header"><a href="/read/clean_code.html#第-10-章-类" class="sidebar-link">第 10 章 类</a></li><li class="sidebar-sub-header"><a href="/read/clean_code.html#第-11-章-系统" class="sidebar-link">第 11 章 系统</a></li><li class="sidebar-sub-header"><a href="/read/clean_code.html#第-12-章-迭进" class="sidebar-link">第 12 章 迭进</a></li><li class="sidebar-sub-header"><a href="/read/clean_code.html#第-13-章-并发编程" class="sidebar-link">第 13 章 并发编程</a></li><li class="sidebar-sub-header"><a href="/read/clean_code.html#第-14-章-逐步改进" class="sidebar-link">第 14 章 逐步改进</a></li><li class="sidebar-sub-header"><a href="/read/clean_code.html#第-15-章-junit-内幕" class="sidebar-link">第 15 章 JUnit 内幕</a></li><li class="sidebar-sub-header"><a href="/read/clean_code.html#第-16-章-重构-serialdate" class="sidebar-link">第 16 章 重构 SerialDate</a></li><li class="sidebar-sub-header"><a href="/read/clean_code.html#第-17-章-味道与启发" class="sidebar-link">第 17 章 味道与启发</a></li><li class="sidebar-sub-header"><a href="/read/clean_code.html#附录-a-并发编程-ii" class="sidebar-link">附录 A 并发编程 II</a></li><li class="sidebar-sub-header"><a href="/read/clean_code.html#讨论区" class="sidebar-link">讨论区</a></li></ul></li><li><a href="/read/coding_style.html" class="sidebar-link">Coding Style</a></li><li><a href="/read/gx.html" class="sidebar-link">高项笔记</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="代码整洁之道"><a href="#代码整洁之道" class="header-anchor">#</a> 代码整洁之道</h1> <h2 id="参考文档"><a href="#参考文档" class="header-anchor">#</a> 参考文档</h2> <ul><li><a href="https://www.bookstack.cn/read/Clean-Code-zh/docs-README.md" target="_blank" rel="noopener noreferrer">Clean Code 中文<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="later-equals-never-稍后等于永不"><a href="#later-equals-never-稍后等于永不" class="header-anchor">#</a> Later equals never，稍后等于永不</h2> <ul><li>童子军军规：让营地比你来时更干净。</li> <li>不要因为一些原因而留下糟糕的代码。</li> <li>糟糕的代码会使得今后的开发和维护更加的困难，浪费自己时间，也同样浪费别人的时间。</li></ul> <h2 id="第-1-章-整洁代码"><a href="#第-1-章-整洁代码" class="header-anchor">#</a> 第 1 章 整洁代码</h2> <p>代码是必要的，时刻都要保持整洁的代码。</p> <p>什么是整洁的代码？</p> <p>优雅和高效的代码。代码逻辑应当直截了当，叫缺陷难以隐藏；尽量减少依赖关系，使之便于维护；依据某种分层战略完善错误处理代码；性能调至最优，省得引诱别人做没规矩的优化，搞出一堆混乱来。</p> <p>起码要做到以下几点：</p> <ul><li>能通过所有的测试。</li> <li>没有重复代码。</li> <li>体现系统中的全部设计理念。</li> <li>包含尽量少的实体、比如类、方法、函数等。</li></ul> <p>即整洁的代码需要做到：</p> <ul><li>职责明确，没有多余</li> <li>减少依赖，便于维护</li> <li>高效</li></ul> <h2 id="第-2-章-有意义的命名"><a href="#第-2-章-有意义的命名" class="header-anchor">#</a> 第 2 章 有意义的命名</h2> <ul><li><p>名副其实。</p> <ul><li><p>一个好的命名可以省去大量的时间。</p></li> <li><p>命名一定要做到，词要达意！</p></li> <li><p>说起来很简单。选个好名字需要花时间，但省下的时间比花掉的多。</p></li> <li><p>注意命名，一旦有好的命名，就换掉旧的。</p></li> <li><p>示例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span> d<span class="token punctuation">;</span><span class="token comment">// 消失的时间，以日计。</span>
<span class="token keyword">int</span> elapsedTimeInDays<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul></li> <li><p>避免思维映射</p> <ul><li>例如循环中的 i、j、k 等单字母名称不是个好选择，读者必须在脑中将它映射为真实概念。最好用 filter、map 等方法代替 for循环。</li></ul></li> <li><p>避免误导</p> <ul><li>比如不是 List 类型，就不要用个 accountList 来命名，这样形成误导。</li></ul></li> <li><p>做有意的区分</p> <ul><li>Variable 一词 永远不应当出现在变量名中。</li> <li>Table 一词永远不应当出现在表名中。</li> <li>NameString 会比 Name 好吗，难道 Name 会是一个浮点数不成。</li> <li>如有一个 Customer 的类，有又一个 CustomerObject 的类。</li></ul></li> <li><p>类名应该是名词或短语</p> <ul><li>像 Customer，Account，避免使用 Manager，Processor，Data 或者 Info 这样的类名。</li> <li>类名不应当是动词。</li> <li>方法名应该是动词或动词短语。
<ul><li>如 postPayment，deletePage 或 Save，属性访问、修改和断言应该根据其值来命名，并加上 get，set，is 这些前缀。</li></ul></li></ul></li> <li><p>每个概念对应一个词</p> <ul><li>在一堆代码中有 Controller，又有 manager，driver 就会令人困惑。</li></ul></li> <li><p>好的名字相当于为代码写了一段有用的注释。</p></li></ul> <h2 id="第-3-章-函数"><a href="#第-3-章-函数" class="header-anchor">#</a> 第 3 章 函数</h2> <p>Function should do one thing. They should do it well. They should do it only.</p> <p>函数只应该做一件事情，把一件事情做好，而且只由它来做这一件事情。</p> <p>一个好的函数应该满足以下规则：</p> <ul><li>短小
<ul><li>函数的第一规则是要短小。</li> <li>第二条规则是还要更短小。</li> <li>例如 if、else、while 等语句，其中的代码应该只有一行。该行大抵应该是一个函数调用语句。因为块内的函数拥有较具体说明性的名称，从而增加了文档上的价值。</li></ul></li> <li>只做一件事，做好这件事
<ul><li>无副作用</li> <li>确保函数功能就像函数名描述的一样，不要做函数名描述以外的事情。应该为起一个更能描述函数功能的函数名。</li></ul></li> <li>参数
<ul><li>尽量少的函数参数。</li> <li>有两个参数的函数要比一元函数的难懂。</li> <li>如果需要三个或者三个以上的参数应该封装成类了。</li> <li>最理想的参数数量是零。</li></ul></li> <li>不要重复一段代码
<ul><li>如果一段相同的代码出现了两次，想一想是不是应该抽取方法了。</li></ul></li></ul> <p>如何写出好函数：</p> <ul><li>分解函数，抽象分层</li> <li>一个好的命名</li> <li>消除重复代码</li></ul> <h2 id="第-4-章-注释"><a href="#第-4-章-注释" class="header-anchor">#</a> 第 4 章 注释</h2> <p>Comments Do Not Make Up for Bad Code.</p> <p>注释不是对劣质代码的补救。</p> <ul><li>与其花时间编写解释糟糕的代码注释，不如花时间清洁糟糕的代码。</li> <li>TODO 注释虽好，但也要定期查看，删除不再需要的。</li> <li>警示，告诉别人要注意这个方法之类的。</li> <li>放大，有的代码可能看着有点多余，但编码者当时是有他自己的考虑，这个时候需要注释下这个代码的重要性。避免后面被优化掉。</li> <li>注释掉的代码。
<ul><li>不要的代码应该立即删掉。（有 VCS 可以找回）</li></ul></li></ul> <h2 id="第-5-章-格式"><a href="#第-5-章-格式" class="header-anchor">#</a> 第 5 章 格式</h2> <h3 id="垂直格式"><a href="#垂直格式" class="header-anchor">#</a> 垂直格式</h3> <ul><li>函数与函数之间留空行</li> <li>变量声明
<ul><li>变量声明应该尽可能靠近其使用位置。
<ul><li>因为函数很短，本地变量应该在函数的顶部出现。</li> <li>实体变量应该在内的顶部，相当于我们的 field 字段，会被使用的多。</li></ul></li></ul></li> <li>相关函数
<ul><li>若某个函数调用了另一个函数，就应该把它们放到一起，而且调用者应该尽可能放在被调用者上面。这样程序就有个自然顺序。</li></ul></li> <li>概念相关的代码应该放到一起
<ul><li>相关性越强，彼此之间的距离就该越短。</li></ul></li></ul> <h3 id="横向格式"><a href="#横向格式" class="header-anchor">#</a> 横向格式</h3> <ul><li>一行的长度不要太长</li> <li>赋值语句两端留空
<ul><li><code>a = b;</code></li></ul></li> <li>不在函数名和左括号间加空格
<ul><li>因为函数与其参数密切相关。</li></ul></li> <li>缩进
<ul><li>要体现层级的概念。</li></ul></li></ul> <h2 id="第-6-章-对象和数据结构"><a href="#第-6-章-对象和数据结构" class="header-anchor">#</a> 第 6 章 对象和数据结构</h2> <ul><li>数据抽象
<ul><li>隐藏实现关乎抽象，类并不简单地取值器和赋值器将变量推向外间，而是暴露抽象接口，以便用户无需了解数据的实现就能擦做数据本体。</li></ul></li> <li>数据、对象的反对称性
<ul><li>对象把数据隐藏于抽象之后，暴露操作数据的函数。数据结构暴露其数据，没有提供有意义的函数。回头再读一遍，留意这两种定义的本质。他们是对立的，这种差异貌似渺小，但却有深远的意义。对象与数据结构的二分原理：
<ul><li>过程式代码（使用数据结构的代码）便于在不改动既有数据结构的前提下添加新函数。面向对象代码便于在不改动既有函数的前提下添加新类。</li> <li>反过来讲也说得通： 过程式代码难以添加新的数据结构，因为必须修改所有函数。面向对象代码难以添加新函数，因为必须修改所有类。</li></ul></li></ul></li> <li>迪米特法则
<ul><li>模块不应了解它所操作对象的内部情形。对象隐藏数据，暴露操作。者意味着对象不应通过存取其暴露其内部结构，因为这样更像是暴露而非隐藏其内部结构。</li></ul></li> <li>数据传送对象
<ul><li>最为精练的数据结构，是一个只有公共变量，没有函数的类。这种数据结构有时被称为数据传送对象，或 DTO。</li></ul></li></ul> <h2 id="第-7-章-错误处理"><a href="#第-7-章-错误处理" class="header-anchor">#</a> 第 7 章 错误处理</h2> <ul><li>使用异常而非返回码。</li> <li>在编写可能抛出异常的代码时，先写 <code>try-Catch-Finally</code>语句。</li> <li>使用不可控异常：C 使用可控异常的代价是：违反“开放/闭合原则”。对于一般性应用开发，其依赖成本要高于收益。</li> <li>给出异常发生的环境说明：应创建信息充分的错误消息，并和异常一起传递出去，以便判断错误的来源和处所。</li> <li>依调用者需要定义异常类（看异常如何被捕获）：如打包调用 API 确保返回通用异常类型。</li> <li>定义常规流程：创建一个类或配置一个对象，用来处理特例。</li> <li>try catch 语句块的范围不要太大，这样不利于对异常的分析。</li> <li>别返回 null 值，这样可以减少调用者的防御性检测。
<ul><li>与其返回 null，不如抛出异常，或是返回特例对象。</li></ul></li> <li>别传递 null 值，传递 null 就要求被调用函数需要一系列防御性检测，也就意味着程序有更大可能出错。</li></ul> <h2 id="第-8-章-边界"><a href="#第-8-章-边界" class="header-anchor">#</a> 第 8 章 边界</h2> <ul><li>使用第三方代码
<ul><li>使用第三方代码时，如果有边界接口，可将其保留在类或近亲中，避免从公共 API 中返回边界接口，或者将其边界接口作为参数传给公共 API。</li></ul></li> <li>浏览和学习边界
<ul><li>在利用第三方程序包时，没有测试第三方代码的职责，但为要使用的第三方代码编写测试，可能最符合我们的利益。不要在生成代码中实验新东西，而是编写测试来遍览和理解第三方代码。</li></ul></li> <li>学习性测试的好处不只是免费
<ul><li>学习性测试是一种精确试验，帮助我们增进对 api 的理解。当第三方程序包发布了新版本，我们可以运行学习性测验，看看程序包的行为有没有改变。学习性测试确保第三方程序包按照我们想要的方式工作。一旦整合进来，就不能保证第三方代码总与我们的需要兼容。如果第三方程序包的修改与测试不兼容，我们也能马上发现。</li></ul></li> <li>整洁的边界
<ul><li>在使用我们控制不了的代码时，必须加倍小心，确保未来的修改代价不会太大。边界上的代码需要清晰的分隔和定义了期望的测试。</li></ul></li></ul> <h2 id="第-9-章-单元测试"><a href="#第-9-章-单元测试" class="header-anchor">#</a> 第 9 章 单元测试</h2> <ul><li>TDD 三定律
<ul><li>定律一，在编写不能通过的单元测试前，不可编写生成代码。</li> <li>定律二，只可编写刚好无法通过的单元测试，不能编译也不算通过。</li> <li>定律三，只可编写刚好足以通过当前失败测试的生成代码。</li></ul></li> <li>保持测试整洁
<ul><li>可读性，可读性，可读性。</li> <li>如何做到可读，那就是要保证测试代码同其他代码一样，明确，简洁，足具表达力，这也是这本书一直强调的事情。</li> <li>测试代码和生产代码一样重要。需要被思考，设计和照料。应该和生产代码一样整洁。</li></ul></li> <li>每个测试一个断言
<ul><li>在尽可能减少每个概念的断言数量的同时，最好能做到每个测试函数中只测试一个概念。</li></ul></li> <li>F.I.R.S.T 原则
<ul><li>快速 (Fast) 测试应该够快。</li> <li>独立 (Independent) 测试应该相互独立。</li> <li>可重复 (Repeatable) 测试应当可在任何环境中重复通过。</li> <li>自足验证 (Self-Validating) 测试应该有布尔值输出。</li> <li>及时 (Timely) 测试应及时编写。</li></ul></li></ul> <h2 id="第-10-章-类"><a href="#第-10-章-类" class="header-anchor">#</a> 第 10 章 类</h2> <ul><li>类的组织
<ul><li>遵循标准的 JAVA 约定，类应该从一组变量列表开始。</li> <li>变量顺序：
<ul><li>公共静态常量</li> <li>私有静态变量</li> <li>私有实体变量</li></ul></li> <li>很少有公共变量，公共函数应该在变量列表后面。公共函数调用的私有工具函数紧随在该公共函数的后面。</li></ul></li> <li>类应该短小</li> <li>单一权责原则 (SRP)
<ul><li>类或模块应有且只有一条加以修改的理由。系统应该有许多短小的类而不是巨大的类组成。</li></ul></li> <li>内聚
<ul><li>内聚性高：类中的方法和变量相互依赖、互相结合成一个逻辑整体。</li> <li>当类丧失了内聚性，就需要拆分它。将大函数拆分为许多小函数，往往也是将类拆分为许多个小类的时机。程序会更有组织，也会拥有更为透明的结构。</li></ul></li> <li>为了修改而组织
<ul><li>在整洁的系统中，对类进行组织，以降低修改的风险（通过扩展而非修改现有的代码来添加新的特性）。</li> <li>隔离修改
<ul><li>遵循依赖倒置原则（DIP），应该依赖于抽象而非具体细节。</li></ul></li></ul></li></ul> <h2 id="第-11-章-系统"><a href="#第-11-章-系统" class="header-anchor">#</a> 第 11 章 系统</h2> <p>Complexity kills. It sucks the life out of developers, it makes products difficult to plan, build and test.</p> <p>复杂要人命，它消磨开发者的生命，让产品难于规划、构建和测试。</p> <ul><li>将构造和使用分开的方法：
<ul><li>分解 main，将系统中的全部构造过程搬迁到 main 或者 main 模块中。
<ul><li>main 函数创建对象，再将对象传递给应用程序，应用程序只管使用，对构造一无所知。</li></ul></li> <li>如果应用程序需要负责确定何时创建对象，可以创建抽象工厂，让应用程序控制实体创建的时机。</li> <li>依赖注入，控制反转 IoC 是依赖管理的手段，它将应用需要的依赖对象的创建权责从对象中拿出来，放在一个专注于此事的对象中，并通过依赖注入（赋值器）将依赖对象传递给应用。</li></ul></li> <li>扩容：
<ul><li>面向方面编程（AOP），Java 中三种方面和类似方面的机制：代理，纯 AOP 框架，AspectJ。
<ul><li>java 代理：适用于简单情况，如在单独对象或类中包装方法调用。代码量和复杂度是代理的两大弱点。</li> <li>纯 Java AOP 框架，如 Spring AOP、JBoss AOP。</li> <li>AspectJ：提供将方面作为模块构造处理支持的 Java 扩展。</li></ul></li></ul></li> <li>最佳系统架构由模块化的关注面领域组成，每个关注面均用纯 Java（或其他语言）对象实现。不同领域之间用最不具有侵害性的方面或类方面工具整合起来。这种架构能测试驱动，就像代码一样。</li> <li>拥有模块化关注面的 POJO 系统提供的敏捷能力，允许我们基于最新的知识做出优化的、时机刚好的决策。决策的复杂性也降低了。</li> <li>领域特定语言（DSL）允许所有抽象层级和应用程序中的所有领域，从高级策略到底层细节，使用 POJO 来表达。</li></ul> <h2 id="第-12-章-迭进"><a href="#第-12-章-迭进" class="header-anchor">#</a> 第 12 章 迭进</h2> <p>简单设计规则</p> <ul><li><p>运行所有测试</p> <ul><li>不可测试的系统不可验证，不可验证的系统，绝不能部署。</li></ul></li> <li><p>不可重复</p> <ul><li><p>通过抽取或是模板方法整合重复代码。</p></li> <li><p>示例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bool <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>这两个方法可以分别实现，但可以在 <code>isEmpty</code> 中使用 <code>size</code> 消除重复。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>bool <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul></li> <li><p>表达力</p> <ul><li>选用好的名称来表达。</li></ul></li> <li><p>尽可能少的类</p></li></ul> <h2 id="第-13-章-并发编程"><a href="#第-13-章-并发编程" class="header-anchor">#</a> 第 13 章 并发编程</h2> <ul><li>为什么要并发
<ul><li>并发是一种解耦策略，它帮助我们把做什么（目的）和何时（时机）做分解开。</li> <li>解耦目的与时机能明显地改进应用程序的吞吐量和结构。</li> <li>单线程程序许多时间花在等待 web 套接字 I/O 结束上面，通过采用同时访问多个站点的多线程算法，就能改进性能。</li></ul></li> <li>常见的迷思和误解
<ul><li>并发总能改进性能
<ul><li>只在多个线程或处理器之间能分享大量等待时间的时候管用。</li></ul></li> <li>编写并发程序无需修改设计
<ul><li>可能与单线程系统的设计极不相同。</li></ul></li> <li>在采用 web 或 ejb 容器时，理解并发问题并不重要。</li></ul></li> <li>有关编写并发软件的中肯的说法
<ul><li>并发会在性能和编写额外代码上增加一些开销。</li> <li>正确的并发是复杂的，即使对于简单的问题也是如此。</li> <li>并发缺陷并非总能重现，所以常被看做偶发事件而忽略，未被当做真的缺陷看待。</li> <li>并发常常需要对设计策略的根本性修改。</li></ul></li> <li>并发防御原则
<ul><li>单一权责原则</li> <li>限制数据作用域</li> <li>使用数据副本</li> <li>线程应尽可能独立</li></ul></li> <li>了解 Java 库
<ul><li>使用类库提供的线程安全群集</li> <li>使用 executor 框架（executor framework）执行无关任务</li> <li>尽可能使用非锁定解决方案</li> <li>有几个类并不是线程安全的</li></ul></li> <li>了解执行模型</li> <li>警惕同步方法之间的依赖</li> <li>保持同步区域微小</li> <li>很维编写正确的关闭代码
<ul><li>平静关闭很难做到，常见问题与死锁有关，线程一直等待永远不会到来的信号。</li> <li>建议：尽早考虑关闭问题，尽早令其工作正常。</li></ul></li> <li>测试线程代码
<ul><li>建议：编写有潜力曝露问题的测试，在不同的编程配置、系统配置和负载条件下频繁运行。如果测试失败，跟踪错误。别因为后来测试通过了后来的运行就忽略失败。</li> <li>将伪失败看作可能的线程问题
<ul><li>线程代码导致“不可能失败的”失败，不要将系统错误归咎于偶发事件。</li></ul></li> <li>先使非线程代码可工作
<ul><li>不要同时追踪非线程缺陷和线程缺陷，确保代码在线程之外可工作</li></ul></li> <li>编写可插拔的线程代码，能在不同的配置环境下运行。</li> <li>编写可调整的线程代码
<ul><li>允许线程依据吞吐量和系统使用率自我调整。</li></ul></li> <li>运行多于处理器数量的线程
<ul><li>任务交换越频繁，越有可能找到错过临界区域导致死锁的代码。</li></ul></li> <li>在不同平台上运行
<ul><li>尽早并经常地在所有目标平台上运行线程代码。</li></ul></li> <li>装置试错代码
<ul><li>增加对 <code>Object.wait()</code>、<code>Object.sleep()</code>、<code>Object.yield()</code>、<code>Object.priority()</code> 等方法的调用，改变代码执行顺序，硬编码或自动化。</li></ul></li></ul></li></ul> <h2 id="第-14-章-逐步改进"><a href="#第-14-章-逐步改进" class="header-anchor">#</a> 第 14 章 逐步改进</h2> <h2 id="第-15-章-junit-内幕"><a href="#第-15-章-junit-内幕" class="header-anchor">#</a> 第 15 章 JUnit 内幕</h2> <h2 id="第-16-章-重构-serialdate"><a href="#第-16-章-重构-serialdate" class="header-anchor">#</a> 第 16 章 重构 SerialDate</h2> <h2 id="第-17-章-味道与启发"><a href="#第-17-章-味道与启发" class="header-anchor">#</a> 第 17 章 味道与启发</h2> <h2 id="附录-a-并发编程-ii"><a href="#附录-a-并发编程-ii" class="header-anchor">#</a> 附录 A 并发编程 II</h2> <h2 id="讨论区"><a href="#讨论区" class="header-anchor">#</a> 讨论区</h2> <blockquote><p>由于评论过多会影响页面最下方的导航，故将评论区做默认折叠处理。</p></blockquote> <details class="custom-block details"><summary>点击查看评论区内容，渴望您的宝贵建议~</summary> <!----></details></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">6/10/2022, 3:54:48 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/read/effective_java.html" class="prev">
        Effective Java
      </a></span> <span class="next"><a href="/read/coding_style.html">
        Coding Style
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.5780eb53.js" defer></script><script src="/assets/js/2.e1f1d232.js" defer></script><script src="/assets/js/120.2639e06f.js" defer></script>
  </body>
</html>
