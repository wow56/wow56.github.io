<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux 系统的使用 | Wow56 个人知识库</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/flaglogo.png">
    <link rel="manifest" href="/flaglogo.png">
    <link rel="apple-touch-icon" href="/flaglogo.png">
    <meta name="description" content="Never stop learning">
    
    <link rel="preload" href="/assets/css/0.styles.b25eaea0.css" as="style"><link rel="preload" href="/assets/js/app.5780eb53.js" as="script"><link rel="preload" href="/assets/js/2.e1f1d232.js" as="script"><link rel="preload" href="/assets/js/3.93a08b3b.js" as="script"><link rel="prefetch" href="/assets/js/10.921c058c.js"><link rel="prefetch" href="/assets/js/100.678efb16.js"><link rel="prefetch" href="/assets/js/101.6fd33b9c.js"><link rel="prefetch" href="/assets/js/102.dfa6e733.js"><link rel="prefetch" href="/assets/js/103.4b74461a.js"><link rel="prefetch" href="/assets/js/104.603354fe.js"><link rel="prefetch" href="/assets/js/105.9da719c4.js"><link rel="prefetch" href="/assets/js/106.6aa24318.js"><link rel="prefetch" href="/assets/js/107.5ea57319.js"><link rel="prefetch" href="/assets/js/108.37ded6f2.js"><link rel="prefetch" href="/assets/js/109.adc40804.js"><link rel="prefetch" href="/assets/js/11.00deed7e.js"><link rel="prefetch" href="/assets/js/110.f1791c33.js"><link rel="prefetch" href="/assets/js/111.bff2cea6.js"><link rel="prefetch" href="/assets/js/112.4eb7e8b1.js"><link rel="prefetch" href="/assets/js/113.4ca0e39f.js"><link rel="prefetch" href="/assets/js/114.03d070d7.js"><link rel="prefetch" href="/assets/js/115.a007d470.js"><link rel="prefetch" href="/assets/js/116.027c798b.js"><link rel="prefetch" href="/assets/js/117.6eaa95a7.js"><link rel="prefetch" href="/assets/js/118.3468f2af.js"><link rel="prefetch" href="/assets/js/119.94c060f2.js"><link rel="prefetch" href="/assets/js/12.e7e7feff.js"><link rel="prefetch" href="/assets/js/120.2639e06f.js"><link rel="prefetch" href="/assets/js/121.1ee7e578.js"><link rel="prefetch" href="/assets/js/122.d1f0654b.js"><link rel="prefetch" href="/assets/js/123.52d57be3.js"><link rel="prefetch" href="/assets/js/124.d515f509.js"><link rel="prefetch" href="/assets/js/125.c783db82.js"><link rel="prefetch" href="/assets/js/126.08d41fac.js"><link rel="prefetch" href="/assets/js/127.5ab5b3c5.js"><link rel="prefetch" href="/assets/js/13.c0e1c39d.js"><link rel="prefetch" href="/assets/js/14.4be8face.js"><link rel="prefetch" href="/assets/js/15.b235fe5f.js"><link rel="prefetch" href="/assets/js/16.a62bd2ec.js"><link rel="prefetch" href="/assets/js/17.d3fa5b5a.js"><link rel="prefetch" href="/assets/js/18.04056df6.js"><link rel="prefetch" href="/assets/js/19.e0daa831.js"><link rel="prefetch" href="/assets/js/20.aae5efb2.js"><link rel="prefetch" href="/assets/js/21.51bfd139.js"><link rel="prefetch" href="/assets/js/22.d92aecaf.js"><link rel="prefetch" href="/assets/js/23.fd2079a6.js"><link rel="prefetch" href="/assets/js/24.7cadaa30.js"><link rel="prefetch" href="/assets/js/25.38c9c1a4.js"><link rel="prefetch" href="/assets/js/26.1c8277a8.js"><link rel="prefetch" href="/assets/js/27.1e495f81.js"><link rel="prefetch" href="/assets/js/28.7ef5af76.js"><link rel="prefetch" href="/assets/js/29.9031cb92.js"><link rel="prefetch" href="/assets/js/30.1b61bbf8.js"><link rel="prefetch" href="/assets/js/31.f8cbfd44.js"><link rel="prefetch" href="/assets/js/32.0632cb94.js"><link rel="prefetch" href="/assets/js/33.a46a0b3d.js"><link rel="prefetch" href="/assets/js/34.fba531e6.js"><link rel="prefetch" href="/assets/js/35.db1fd348.js"><link rel="prefetch" href="/assets/js/36.9e6108c6.js"><link rel="prefetch" href="/assets/js/37.35fca0f6.js"><link rel="prefetch" href="/assets/js/38.ac22df93.js"><link rel="prefetch" href="/assets/js/39.7cce2902.js"><link rel="prefetch" href="/assets/js/4.e30be376.js"><link rel="prefetch" href="/assets/js/40.3560e650.js"><link rel="prefetch" href="/assets/js/41.d4632345.js"><link rel="prefetch" href="/assets/js/42.adce46c5.js"><link rel="prefetch" href="/assets/js/43.d2ff2a7e.js"><link rel="prefetch" href="/assets/js/44.d3f6ac6e.js"><link rel="prefetch" href="/assets/js/45.1e3b049e.js"><link rel="prefetch" href="/assets/js/46.917a9a8a.js"><link rel="prefetch" href="/assets/js/47.5a73f25d.js"><link rel="prefetch" href="/assets/js/48.3b970b0a.js"><link rel="prefetch" href="/assets/js/49.dc6fd937.js"><link rel="prefetch" href="/assets/js/5.9411f932.js"><link rel="prefetch" href="/assets/js/50.109fdeb5.js"><link rel="prefetch" href="/assets/js/51.5ec4fc4b.js"><link rel="prefetch" href="/assets/js/52.0c03ff96.js"><link rel="prefetch" href="/assets/js/53.e91a6f48.js"><link rel="prefetch" href="/assets/js/54.7f886adb.js"><link rel="prefetch" href="/assets/js/55.2747b24f.js"><link rel="prefetch" href="/assets/js/56.a78db785.js"><link rel="prefetch" href="/assets/js/57.517d420c.js"><link rel="prefetch" href="/assets/js/58.0429f17c.js"><link rel="prefetch" href="/assets/js/59.9d68455f.js"><link rel="prefetch" href="/assets/js/6.3e126bb5.js"><link rel="prefetch" href="/assets/js/60.7cc000dc.js"><link rel="prefetch" href="/assets/js/61.8eaec827.js"><link rel="prefetch" href="/assets/js/62.9eb7a7b3.js"><link rel="prefetch" href="/assets/js/63.35e36177.js"><link rel="prefetch" href="/assets/js/64.6282d042.js"><link rel="prefetch" href="/assets/js/65.58ed4699.js"><link rel="prefetch" href="/assets/js/66.971cb02f.js"><link rel="prefetch" href="/assets/js/67.0a93b287.js"><link rel="prefetch" href="/assets/js/68.a7b05e3b.js"><link rel="prefetch" href="/assets/js/69.6572830f.js"><link rel="prefetch" href="/assets/js/7.de70efc4.js"><link rel="prefetch" href="/assets/js/70.168da9d9.js"><link rel="prefetch" href="/assets/js/71.d57d693b.js"><link rel="prefetch" href="/assets/js/72.91fa5cd3.js"><link rel="prefetch" href="/assets/js/73.7de2d2b8.js"><link rel="prefetch" href="/assets/js/74.acd298e4.js"><link rel="prefetch" href="/assets/js/75.62e67874.js"><link rel="prefetch" href="/assets/js/76.f2b96539.js"><link rel="prefetch" href="/assets/js/77.4255efc8.js"><link rel="prefetch" href="/assets/js/78.114300ba.js"><link rel="prefetch" href="/assets/js/79.d14a2756.js"><link rel="prefetch" href="/assets/js/8.1ec756ec.js"><link rel="prefetch" href="/assets/js/80.3fd73e00.js"><link rel="prefetch" href="/assets/js/81.71ebdbf4.js"><link rel="prefetch" href="/assets/js/82.0a5b5bb1.js"><link rel="prefetch" href="/assets/js/83.a23907a9.js"><link rel="prefetch" href="/assets/js/84.8c2bc996.js"><link rel="prefetch" href="/assets/js/85.ed1b9552.js"><link rel="prefetch" href="/assets/js/86.49d44a86.js"><link rel="prefetch" href="/assets/js/87.33153d90.js"><link rel="prefetch" href="/assets/js/88.a021dc21.js"><link rel="prefetch" href="/assets/js/89.b80b10c6.js"><link rel="prefetch" href="/assets/js/9.24d5e519.js"><link rel="prefetch" href="/assets/js/90.a059a06c.js"><link rel="prefetch" href="/assets/js/91.0c2e07a8.js"><link rel="prefetch" href="/assets/js/92.0460267f.js"><link rel="prefetch" href="/assets/js/93.630cc9b9.js"><link rel="prefetch" href="/assets/js/94.64e96711.js"><link rel="prefetch" href="/assets/js/95.cc7ee0e1.js"><link rel="prefetch" href="/assets/js/96.43f96f85.js"><link rel="prefetch" href="/assets/js/97.73dc1af0.js"><link rel="prefetch" href="/assets/js/98.10b4ffee.js"><link rel="prefetch" href="/assets/js/99.e6bfc1cd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b25eaea0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/flaglogo.png" alt="Wow56 个人知识库" class="logo"> <span class="site-name can-hide">Wow56 个人知识库</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/base/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="语言/语法" class="dropdown-title"><span class="title">语言/语法</span> <span class="arrow down"></span></button> <button type="button" aria-label="语言/语法" class="mobile-dropdown-title"><span class="title">语言/语法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lang/java/" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/lang/go/" class="nav-link">
  Go
</a></li><li class="dropdown-item"><!----> <a href="/lang/php/" class="nav-link">
  PHP
</a></li><li class="dropdown-item"><!----> <a href="/lang/js/" class="nav-link">
  Java Script
</a></li><li class="dropdown-item"><!----> <a href="/lang/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/lang/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/lang/regex/" class="nav-link">
  Regex
</a></li><li class="dropdown-item"><!----> <a href="/lang/script/" class="nav-link">
  脚本 Script
</a></li><li class="dropdown-item"><!----> <a href="/lang/markdown/" class="nav-link">
  Markdown
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架/类库" class="dropdown-title"><span class="title">框架/类库</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架/类库" class="mobile-dropdown-title"><span class="title">框架/类库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          应用程序
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/spring/" class="nav-link">
  Spring 生态
</a></li><li class="dropdown-subitem"><a href="/framework/vue/" class="nav-link">
  Vue
</a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/gis/" class="nav-link">
  Web GIS
</a></li><li class="dropdown-subitem"><a href="/framework/echarts/" class="nav-link">
  ECahrts
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          关系型
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/mysql/" class="nav-link">
  MySQL
</a></li></ul></li><li class="dropdown-item"><h4>
          非关系型
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/mongodb/" class="nav-link">
  MongoDB
</a></li><li class="dropdown-subitem"><a href="/db/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-subitem"><a href="/db/es/" class="nav-link">
  Elasticsearch
</a></li></ul></li><li class="dropdown-item"><h4>
          持久层框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/mybatis/" class="nav-link">
  MyBatis
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="应用技术" class="dropdown-title"><span class="title">应用技术</span> <span class="arrow down"></span></button> <button type="button" aria-label="应用技术" class="mobile-dropdown-title"><span class="title">应用技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/applied-tech/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/svn/" class="nav-link">
  SVN
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/maven/" class="nav-link">
  Maven
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/mq/" class="nav-link">
  MQ
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/k8s/" class="nav-link">
  Kubernetes
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/cas/" class="nav-link">
  CAS
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/workflow/" class="nav-link">
  Workflow
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机素养" class="dropdown-title"><span class="title">计算机素养</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机素养" class="mobile-dropdown-title"><span class="title">计算机素养</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/computer-literacy/linux/" class="nav-link router-link-active">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/computer-literacy/network/" class="nav-link">
  网络
</a></li><li class="dropdown-item"><!----> <a href="/computer-literacy/security/" class="nav-link">
  安全
</a></li><li class="dropdown-item"><!----> <a href="/computer-literacy/data-structure/" class="nav-link">
  数据结构
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发常识" class="dropdown-title"><span class="title">开发常识</span> <span class="arrow down"></span></button> <button type="button" aria-label="开发常识" class="mobile-dropdown-title"><span class="title">开发常识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/common-sense/common/common_sense.html" class="nav-link">
  常识
</a></li><li class="dropdown-item"><!----> <a href="/common-sense/ide-settings/" class="nav-link">
  IDE 开发环境配置
</a></li><li class="dropdown-item"><!----> <a href="/common-sense/log/" class="nav-link">
  Log
</a></li><li class="dropdown-item"><!----> <a href="/common-sense/test/" class="nav-link">
  Test
</a></li><li class="dropdown-item"><!----> <a href="/common-sense/swagger/" class="nav-link">
  Swagger
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分享" class="dropdown-title"><span class="title">分享</span> <span class="arrow down"></span></button> <button type="button" aria-label="分享" class="mobile-dropdown-title"><span class="title">分享</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/share/faq/" class="nav-link">
  FAQ
</a></li><li class="dropdown-item"><!----> <a href="/share/recommend/" class="nav-link">
  推荐
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="阅读" class="dropdown-title"><span class="title">阅读</span> <span class="arrow down"></span></button> <button type="button" aria-label="阅读" class="mobile-dropdown-title"><span class="title">阅读</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/read/effective_java.html" class="nav-link">
  Effective Java
</a></li><li class="dropdown-item"><!----> <a href="/read/clean_code.html" class="nav-link">
  代码整洁之道
</a></li><li class="dropdown-item"><!----> <a href="/read/coding_style.html" class="nav-link">
  Coding Style
</a></li><li class="dropdown-item"><!----> <a href="/read/gx.html" class="nav-link">
  高项笔记
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/wow56/wow56.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/base/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="语言/语法" class="dropdown-title"><span class="title">语言/语法</span> <span class="arrow down"></span></button> <button type="button" aria-label="语言/语法" class="mobile-dropdown-title"><span class="title">语言/语法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/lang/java/" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/lang/go/" class="nav-link">
  Go
</a></li><li class="dropdown-item"><!----> <a href="/lang/php/" class="nav-link">
  PHP
</a></li><li class="dropdown-item"><!----> <a href="/lang/js/" class="nav-link">
  Java Script
</a></li><li class="dropdown-item"><!----> <a href="/lang/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/lang/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/lang/regex/" class="nav-link">
  Regex
</a></li><li class="dropdown-item"><!----> <a href="/lang/script/" class="nav-link">
  脚本 Script
</a></li><li class="dropdown-item"><!----> <a href="/lang/markdown/" class="nav-link">
  Markdown
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架/类库" class="dropdown-title"><span class="title">框架/类库</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架/类库" class="mobile-dropdown-title"><span class="title">框架/类库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          应用程序
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/spring/" class="nav-link">
  Spring 生态
</a></li><li class="dropdown-subitem"><a href="/framework/vue/" class="nav-link">
  Vue
</a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/gis/" class="nav-link">
  Web GIS
</a></li><li class="dropdown-subitem"><a href="/framework/echarts/" class="nav-link">
  ECahrts
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          关系型
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/mysql/" class="nav-link">
  MySQL
</a></li></ul></li><li class="dropdown-item"><h4>
          非关系型
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/mongodb/" class="nav-link">
  MongoDB
</a></li><li class="dropdown-subitem"><a href="/db/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-subitem"><a href="/db/es/" class="nav-link">
  Elasticsearch
</a></li></ul></li><li class="dropdown-item"><h4>
          持久层框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/mybatis/" class="nav-link">
  MyBatis
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="应用技术" class="dropdown-title"><span class="title">应用技术</span> <span class="arrow down"></span></button> <button type="button" aria-label="应用技术" class="mobile-dropdown-title"><span class="title">应用技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/applied-tech/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/svn/" class="nav-link">
  SVN
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/maven/" class="nav-link">
  Maven
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/mq/" class="nav-link">
  MQ
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/k8s/" class="nav-link">
  Kubernetes
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/cas/" class="nav-link">
  CAS
</a></li><li class="dropdown-item"><!----> <a href="/applied-tech/workflow/" class="nav-link">
  Workflow
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机素养" class="dropdown-title"><span class="title">计算机素养</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机素养" class="mobile-dropdown-title"><span class="title">计算机素养</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/computer-literacy/linux/" class="nav-link router-link-active">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/computer-literacy/network/" class="nav-link">
  网络
</a></li><li class="dropdown-item"><!----> <a href="/computer-literacy/security/" class="nav-link">
  安全
</a></li><li class="dropdown-item"><!----> <a href="/computer-literacy/data-structure/" class="nav-link">
  数据结构
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发常识" class="dropdown-title"><span class="title">开发常识</span> <span class="arrow down"></span></button> <button type="button" aria-label="开发常识" class="mobile-dropdown-title"><span class="title">开发常识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/common-sense/common/common_sense.html" class="nav-link">
  常识
</a></li><li class="dropdown-item"><!----> <a href="/common-sense/ide-settings/" class="nav-link">
  IDE 开发环境配置
</a></li><li class="dropdown-item"><!----> <a href="/common-sense/log/" class="nav-link">
  Log
</a></li><li class="dropdown-item"><!----> <a href="/common-sense/test/" class="nav-link">
  Test
</a></li><li class="dropdown-item"><!----> <a href="/common-sense/swagger/" class="nav-link">
  Swagger
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分享" class="dropdown-title"><span class="title">分享</span> <span class="arrow down"></span></button> <button type="button" aria-label="分享" class="mobile-dropdown-title"><span class="title">分享</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/share/faq/" class="nav-link">
  FAQ
</a></li><li class="dropdown-item"><!----> <a href="/share/recommend/" class="nav-link">
  推荐
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="阅读" class="dropdown-title"><span class="title">阅读</span> <span class="arrow down"></span></button> <button type="button" aria-label="阅读" class="mobile-dropdown-title"><span class="title">阅读</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/read/effective_java.html" class="nav-link">
  Effective Java
</a></li><li class="dropdown-item"><!----> <a href="/read/clean_code.html" class="nav-link">
  代码整洁之道
</a></li><li class="dropdown-item"><!----> <a href="/read/coding_style.html" class="nav-link">
  Coding Style
</a></li><li class="dropdown-item"><!----> <a href="/read/gx.html" class="nav-link">
  高项笔记
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/wow56/wow56.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/computer-literacy/linux/" aria-current="page" class="sidebar-link">Linux 总览</a></li><li><a href="/computer-literacy/linux/linux_command_base.html" class="sidebar-link">Linux 命令行基础</a></li><li><a href="/computer-literacy/linux/linux_command.html" class="sidebar-link">Linux 命令行常用</a></li><li><a href="/computer-literacy/linux/using_linux.html" aria-current="page" class="active sidebar-link">Linux 系统的使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#linux-启动流程" class="sidebar-link">Linux 启动流程</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#系统初始化" class="sidebar-link">系统初始化</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#systemd" class="sidebar-link">Systemd</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#添加-unit" class="sidebar-link">添加 Unit</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#systemctl" class="sidebar-link">systemctl</a></li></ul></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#目录结构" class="sidebar-link">目录结构</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#挂载" class="sidebar-link">挂载</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#理论先行" class="sidebar-link">理论先行</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#磁盘挂载" class="sidebar-link">磁盘挂载</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#挂载相关命令" class="sidebar-link">挂载相关命令</a></li></ul></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#配置-jdk" class="sidebar-link">配置 JDK</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#环境变量" class="sidebar-link">环境变量</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#path" class="sidebar-link">PATH</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#修改-path" class="sidebar-link">修改 PATH</a></li></ul></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#crond" class="sidebar-link">crond</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#crontab" class="sidebar-link">crontab</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#执行日志" class="sidebar-link">执行日志</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#crontab-文件" class="sidebar-link">crontab 文件</a></li></ul></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#用户管理" class="sidebar-link">用户管理</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#proc" class="sidebar-link">/proc</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#fd文件描述符" class="sidebar-link">fd文件描述符</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#重定向" class="sidebar-link">重定向</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#重定向-2" class="sidebar-link">重定向</a></li></ul></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#守护进程-daemon" class="sidebar-link">守护进程 daemon</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#使用-nohup-启动后台进程" class="sidebar-link">使用 nohup 启动后台进程</a></li></ul></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#root-用户密码" class="sidebar-link">root 用户密码</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#允许普通用户使用-sudo" class="sidebar-link">允许普通用户使用 sudo</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#ssh" class="sidebar-link">SSH</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#密码口令" class="sidebar-link">密码口令</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#公钥私钥登录" class="sidebar-link">公钥私钥登录</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#ssh-目录" class="sidebar-link">.ssh 目录</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#ssh-config" class="sidebar-link">SSH config</a></li></ul></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#scp" class="sidebar-link">SCP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#scp-和-sftp" class="sidebar-link">SCP 和 SFTP</a></li></ul></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#sftp" class="sidebar-link">SFTP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#scp-vs-sftp" class="sidebar-link">SCP vs SFTP</a></li></ul></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#ftp" class="sidebar-link">FTP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#主动模式" class="sidebar-link">主动模式</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#被动模式" class="sidebar-link">被动模式</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#ftp-vs-sftp" class="sidebar-link">FTP vs SFTP</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#ftp-命令" class="sidebar-link">FTP 命令</a></li></ul></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#科学上网" class="sidebar-link">科学上网</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#terminator" class="sidebar-link">Terminator</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#端口范围" class="sidebar-link">端口范围</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#ifconfig" class="sidebar-link">ifconfig</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#firewall" class="sidebar-link">Firewall</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#快速上手" class="sidebar-link">快速上手</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#netfilter" class="sidebar-link">Netfilter</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#firewalld" class="sidebar-link">Firewalld</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#iptables" class="sidebar-link">iptables</a></li></ul></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#查看本机出口-ip" class="sidebar-link">查看本机出口 IP</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#etc-hosts" class="sidebar-link">/etc/hosts</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#域名解析" class="sidebar-link">域名解析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#nslookup" class="sidebar-link">nslookup</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#dig" class="sidebar-link">dig</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#host" class="sidebar-link">host</a></li></ul></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#内存占用" class="sidebar-link">内存占用</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#jq" class="sidebar-link">jq</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#包管理器" class="sidebar-link">包管理器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#apt" class="sidebar-link">apt</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#rpm" class="sidebar-link">rpm</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#yum" class="sidebar-link">yum</a></li></ul></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#常见发行版" class="sidebar-link">常见发行版</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#desktop-文件" class="sidebar-link">desktop 文件</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#mono" class="sidebar-link">Mono</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#zshell" class="sidebar-link">ZShell</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#zsh-主题" class="sidebar-link">zsh 主题</a></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#zsh-插件" class="sidebar-link">zsh 插件</a></li></ul></li><li class="sidebar-sub-header"><a href="/computer-literacy/linux/using_linux.html#讨论区" class="sidebar-link">讨论区</a></li></ul></li><li><a href="/computer-literacy/linux/os_related.html" class="sidebar-link">操作系统相关</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="linux-系统的使用"><a href="#linux-系统的使用" class="header-anchor">#</a> Linux 系统的使用</h1> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>这里以 Ubuntu 20.04 系统为基础，其他系统的操作可能会有不同。</p></div> <blockquote><p>webmin -- web 服务器管理工具</p></blockquote> <h2 id="linux-启动流程"><a href="#linux-启动流程" class="header-anchor">#</a> Linux 启动流程</h2> <p><img src="/assets/img/linux-boot.839c0722.png" alt="Linux 启动流程"></p> <h2 id="系统初始化"><a href="#系统初始化" class="header-anchor">#</a> 系统初始化</h2> <p>init 进程运行以后将陆续执行系统中的其他程序，不断生成新的进程，这些进程称为 init 进程的子进程，反过来说，init 进程是这些进程的父进程，当然，这些子进程也可以进一步生成各自的子进程，依次不断繁衍下去，最终构成一棵枝繁叶茂的进程树，共同为用户提供服务。</p> <p>init 进程正是维持整个 Linux 操作系统运行的所有进程的“始祖”，因此 init 进程是不允许被轻易终止的，需要切换不同的系统运行状态时，可以向 init 进程发送正确的执行参数，由 init 自身来完成相关操作。</p> <h2 id="systemd"><a href="#systemd" class="header-anchor">#</a> Systemd</h2> <p>Systemd，即 system daemon，是 Linux 操作系统的一种 init 软件（最新的），作用是提高系统的启动速度，尽可能启动较少的进程，尽可能更多进程并发启动。</p> <blockquote><p>作为 init 进程，Systemd 进程自然永远是 1 号进程</p></blockquote> <p><img src="/assets/img/ps-systemd.c83ed590.png" alt="初始化进程"></p> <p>Systemd 对应的进程管理命令有：</p> <ul><li><code>systemctl</code>，主命令，用于管理系统和服务单元。</li> <li><code>journalctl</code>，用于访问 Systemd 日志。</li> <li><code>systemd-analyze</code>，用于查看启动耗时。</li> <li><code>hostnamectl</code>，于查看当前主机的信息。</li> <li><code>localectl</code>，用于查看本地化设置。</li> <li><code>timedatectl</code>，用于查看当前时区设置。</li> <li><code>loginctl</code>，用于查看当前登录的用户。</li> <li><code>localectl</code>，用于查看本地化设置。</li> <li>...</li></ul> <h3 id="添加-unit"><a href="#添加-unit" class="header-anchor">#</a> 添加 Unit</h3> <blockquote><p>使用包管理器（如 apt）安装某些软件的时候，包管理器会帮我们将这些软件服务添加到 Systemd（即创建 xxx.service 文件），但如果是源码安装的软件，就不会有人帮我们去添加服务单元，这时候就需要我们手动添加服务单元到 Systemd 进行管理。</p></blockquote> <p>以 <code>.service</code> 为后缀的单元文件，封装了一个被 Systemd 监视与控制的进程。</p> <p><strong>添加步骤：</strong></p> <ol><li>在 <code>/etc/lib/systemd/[username]/</code> 中添加 xxx.service 文件。
<ul><li><em>这里可以把 .service 文件放在自定义位置，然后软链到 Systemd 扫描目录。</em></li></ul></li> <li>执行 <code>systemctl enable xxx.service</code> (<em>设置开机启动：下次开机时，该服务会被启动</em>)</li></ol> <details class="custom-block details"><summary>.service 服务文件</summary> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 文件主要有 3 部分： Unit、Service、Install</span>

<span class="token comment"># 控制单元，主要包括服务描述、启动顺序、依赖关系</span>
<span class="token punctuation">[</span>Unit<span class="token punctuation">]</span>
<span class="token assign-left variable">Description</span><span class="token operator">=</span><span class="token operator">&lt;</span>description about service<span class="token operator">&gt;</span> <span class="token comment"># 描述服务</span>
<span class="token assign-left variable">Before</span><span class="token operator">=</span><span class="token operator">&lt;</span>unit files<span class="token operator">&gt;</span> <span class="token comment"># 在什么服务之前启动</span>
<span class="token assign-left variable">After</span><span class="token operator">=</span><span class="token operator">&lt;</span>unit files<span class="token operator">&gt;</span> <span class="token comment"># 在什么服务之后启动</span>
<span class="token comment"># After 和 Before 字段只涉及启动顺序，不涉及依赖关系</span>
<span class="token assign-left variable">Requires</span><span class="token operator">=</span><span class="token operator">&lt;</span>unit files<span class="token operator">&gt;</span> <span class="token comment"># 表示“强依赖”关系。列在其中的Uint模块会在这个服务启动的同时被启动，如果其中任意一个启动失败，这个服务会被终止。某服务停止运行或退出，该服务也必须停止运行。</span>
<span class="token assign-left variable">Wants</span><span class="token operator">=</span><span class="token operator">&lt;</span>unit files<span class="token operator">&gt;</span> <span class="token comment"># 表示“弱依赖”关系。某服务停止运行或退出不影响该服务继续运行；</span>
<span class="token assign-left variable">Conflicts</span><span class="token operator">=</span><span class="token operator">&lt;</span>unit files<span class="token operator">&gt;</span>
<span class="token assign-left variable">PartOf</span><span class="token operator">=</span><span class="token operator">&lt;</span>unit files<span class="token operator">&gt;</span> <span class="token comment"># 该参数仅用于单元的停止或重启。</span>
<span class="token assign-left variable">Documentation</span><span class="token operator">=</span><span class="token operator">&lt;</span>url<span class="token operator">&gt;</span> <span class="token comment"># 文档位置</span>

<span class="token comment"># 服务定义</span>
<span class="token punctuation">[</span>Service<span class="token punctuation">]</span> 
<span class="token assign-left variable">Type</span><span class="token operator">=</span><span class="token operator">&lt;</span>simple, exec, forking, oneshot, dbus, notify, idle<span class="token operator">&gt;</span>
<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span><span class="token operator">&lt;</span>path to executable file<span class="token operator">&gt;</span> <span class="token comment"># 启动程序时执行的命令。</span>
<span class="token assign-left variable">ExecReload</span><span class="token operator">=</span><span class="token operator">&lt;</span>path to executable file<span class="token operator">&gt;</span> <span class="token comment"># 重启服务执行的命令。</span>
<span class="token assign-left variable">ExecStop</span><span class="token operator">=</span><span class="token operator">&lt;</span>path to executable file<span class="token operator">&gt;</span> <span class="token comment"># 停止服务时执行的命令。</span>
<span class="token assign-left variable">ExecStartPre</span><span class="token operator">=</span><span class="token operator">&lt;</span>path to executable file<span class="token operator">&gt;</span> <span class="token comment"># 启动服务之前执行的命令。</span>
<span class="token assign-left variable">ExecStartPost</span><span class="token operator">=</span><span class="token operator">&lt;</span>path to executable file<span class="token operator">&gt;</span> <span class="token comment"># 启动服务之后执行的命令。</span>
<span class="token assign-left variable">ExecStopPost</span><span class="token operator">=</span><span class="token operator">&lt;</span>path to executable file<span class="token operator">&gt;</span> <span class="token comment"># 停止服务之后执行的命令。</span>
<span class="token assign-left variable">User</span><span class="token operator">=</span><span class="token operator">&lt;</span>user<span class="token operator">&gt;</span> <span class="token comment"># 指定运行服务的用户</span>
<span class="token assign-left variable">Restart</span><span class="token operator">=</span><span class="token operator">&lt;</span>condition<span class="token operator">&gt;</span> 
<span class="token comment"># Restart，定义 sshd 退出后，systemd 的重启方式。默认值：no</span>
<span class="token assign-left variable">RestartSec</span><span class="token operator">=</span><span class="token operator">&lt;&gt;</span> <span class="token comment"># 重启服务之前需要等待的秒数。</span>
<span class="token assign-left variable">Environment</span><span class="token operator">=</span><span class="token operator">&lt;&gt;</span>
<span class="token assign-left variable">EnvironmentFile</span><span class="token operator">=</span><span class="token operator">&lt;&gt;</span>

<span class="token comment"># 安装部分，用来定义如何启动以及是否开机启动</span>
<span class="token punctuation">[</span>Install<span class="token punctuation">]</span>
<span class="token assign-left variable">WantedBy</span><span class="token operator">=</span>multi-user.target 
<span class="token comment"># WantedBy 表示该服务所在的Target。Target的含义是服务组，表示一组服务。“WantedBy=multi-user.target”指的是服务所在的Target是multi-user.target</span>
<span class="token comment"># multi-user.target是systemd默认启动的Target，表示在这个组里的所有服务，都开机启动。</span>
<span class="token comment"># Target 就是一个 Unit 组，包含许多相关的 Unit 。启动某个 Target 的时候，Systemd 就会启动里面所有的 Unit。</span>
<span class="token assign-left variable">Alias</span><span class="token operator">=</span><span class="token operator">&lt;</span>alias<span class="token operator">&gt;</span> <span class="token comment"># 当前 Unit 可用于启动的别名。</span>
<span class="token assign-left variable">Also</span><span class="token operator">=</span><span class="token operator">&lt;&gt;</span> <span class="token comment"># 当前 Unit 被 enable/disable 时，会被同时操作的其他 Unit</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div></details> <p>Systemd 有系统和用户级别：</p> <ul><li>系统，<code>/usr/lib/systemd/system/</code></li> <li>用户，<code>/etc/lib/systemd/[username]/</code></li></ul> <p><em>一般系统管理员手动创建的单元文件建议存放在 <code>/etc/systemd/system/</code> 目录下面。</em></p> <h3 id="systemctl"><a href="#systemctl" class="header-anchor">#</a> systemctl</h3> <p>系统服务控制，systemd control，它提供了一组子命令来管理单个的 unit，其命令格式为：</p> <p><code>systemctl [command] [unit]</code></p> <p>command 主要有：</p> <ul><li><code>start</code>：立刻启动后面接的 unit。</li> <li><code>stop</code>：立刻关闭后面接的 unit。</li> <li><code>restart</code>：立刻关闭后启动后面接的 unit，亦即执行 stop 再 start 的意思。</li> <li><code>reload</code>：不关闭 unit 的情况下，重新载入配置文件，让设置生效。</li> <li><code>enable</code>：设置下次开机时，后面接的 unit 会被启动。</li> <li><code>disable</code>：设置下次开机时，后面接的 unit 不会被启动。</li> <li><code>status</code>：目前后面接的这个 unit 的状态，会列出有没有正在执行、开机时是否启动等信息。</li> <li><code>is-active</code>：目前有没有正在运行中。</li> <li><code>is-enable</code>：开机时有没有默认要启用这个 unit。</li> <li><code>kill</code>：不要被 kill 这个名字吓着了，它其实是向运行 unit 的进程发送信号。</li> <li><code>show</code>：列出 unit 的配置。</li> <li><code>mask</code>：注销 unit，注销后你就无法启动这个 unit 了。</li> <li><code>unmask</code>：取消对 unit 的注销。</li></ul> <h2 id="目录结构"><a href="#目录结构" class="header-anchor">#</a> 目录结构</h2> <p><a href="https://www.runoob.com/linux/linux-system-contents.html" target="_blank" rel="noopener noreferrer">Linux 目录结构<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="/assets/img/linux-system-hierarchy.760b17ab.png" alt="Linux 目录结构"></p> <h2 id="挂载"><a href="#挂载" class="header-anchor">#</a> 挂载</h2> <blockquote><p><code>hda1</code>、<code>sda1</code></p> <ul><li>hd(IDE 即 ATA 并行接口)/sd(scsi、SATA 串行接口)，表示是硬盘</li> <li>a 磁盘序号 a-z，表示第一块硬盘</li> <li>1 分区序号，表示第一个分区</li></ul></blockquote> <h3 id="理论先行"><a href="#理论先行" class="header-anchor">#</a> 理论先行</h3> <p>因为外存中的数据是不能直接和 CPU 进行交互的，所以需要将外存中的数据加载到内存中，Linux 内核在内存中预留了一个空目录，将块设备的根目录 <code>/</code> 与这个空目录绑定，这样根目录与内存就有了关联，发生在根目录以及在根目录下的操作，都会实际发生在块设备上。</p> <p>每个块设备都有自己的文件系统，比如根目录下有一个简易系统组成：<code>/</code> 下包含 <code>/home</code>、<code>/usr</code>、<code>/proc</code>、<code>/dev</code>、<code>/etc</code> 等等。</p> <p>如果你还有第二块硬盘（第一块硬盘已经绑定基本的文件系统），这时，你感觉你的 <code>/home</code> 需要扩大一下容量，那么你就可以将你的第二块硬盘挂载到第一块硬盘的文件系统中的 <code>/home</code> 目录，当你挂载上之后，后面你对 <code>/home</code> 目录的操作实际就会发生在第二块硬盘上。</p> <p>当你在 <code>/home</code> 挂载了第二块硬盘，那么后面你对 <code>/home</code> 目录的操作实际就会发生在第二块硬盘上，挂载之前 <code>/home</code> 下的数据还在，只不过你使用不了了，如果你将第二块硬盘 umount，那么 <code>/home</code> 又重新关联到了第一块盘（之前的数据）。</p> <p><a href="https://www.zhihu.com/question/512414198" target="_blank" rel="noopener noreferrer">极佳的讲解<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="磁盘挂载"><a href="#磁盘挂载" class="header-anchor">#</a> 磁盘挂载</h3> <blockquote><p><strong>磁盘分区：</strong> 在 Linux 中，磁盘是通过分区来使用的。分区是将一个硬盘划分成几个逻辑部分来使用，在每个分区中可以存储不同的文件系统。因此，挂载磁盘前，需要先对磁盘进行分区，磁盘分区的过程可以通过命令行工具或图形界面工具来完成。这里使用 <code>fdisk</code> 分区工具操作。</p></blockquote> <p>主要步骤为：</p> <ol><li><strong>添加磁盘</strong> <ul><li>添加后使用 <code>fdisk -l</code> 查看</li></ul></li> <li><strong>创建分区</strong> <ul><li>使用 <code>fdisk /dev/sdxxx</code> 对指定的磁盘执行分区操作，进入交互式操作（按<code>m</code>打印所有菜单）</li> <li>创建步骤 -&gt; n -&gt; p -&gt; <code>开始扇区大小</code> 直接回车表示使用默认 -&gt; <code>结束扇区大小</code> 直接回车 -&gt; wq 保存并退出</li></ul></li> <li><strong>格式化分区，建立文件系统</strong> <ul><li><code>mkfd.xxx [分区]</code></li> <li><code>mkfs.ext4 /dev/sda1</code> 或者 <code>mkfs -t ext4 /dev/sda1</code> 将分区格式化为 ext4 文件系统 <strong>用这个！</strong></li> <li><code>mkfs.xfs /dev/sdb1</code> 将分区格式化为 XFS 文件系统。</li> <li><em>调用 <code>mkfs -t ext4 /dev/sda1</code> 会调用 <code>mkfs.ext4</code> 命令，等同于直接执行 <code>mkfs.ext4 /dev/sda1</code>。</em></li></ul></li> <li><strong>创建挂载点并挂载</strong> <ul><li>自定义一个挂载点然后挂载，<code>mount /dev/sdb1 /mydir</code></li></ul></li> <li><strong>自动挂载</strong> <ul><li>新增内容到 <code>/etc/fstab</code></li></ul></li></ol> <h3 id="挂载相关命令"><a href="#挂载相关命令" class="header-anchor">#</a> 挂载相关命令</h3> <h4 id="fdisk-命令"><a href="#fdisk-命令" class="header-anchor">#</a> fdisk 命令</h4> <p><a href="https://www.runoob.com/linux/linux-comm-fdisk.html" target="_blank" rel="noopener noreferrer">fdisk<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，固定磁盘(Fixed Disk) 或 格式化磁盘(Format Disk)，它是命令行下允许用户对分区进行查看、创建、调整大小、删除、移动和复制的工具。它支持 MBR、Sun、SGI、BSD 分区表，但是它不支持 GUID 分区表（GPT）。它不是为操作大分区设计的。</p> <p><code>fdisk</code> 允许我们在每块硬盘上创建最多四个主分区。它们中的其中一个可以作为扩展分区，并下设多个逻辑分区。1-4 扇区作为主分区被保留，逻辑分区从扇区 5 开始。</p> <p><img src="/assets/img/fdisk-mbr.f9cdaf82.png" alt="MBR 分区"></p> <ul><li><code>-l</code> list all 分区信息。</li> <li><code>fdisk /dev/sdb</code> 对指定的磁盘进行分区
<ul><li><code>m</code> 查看菜单</li> <li><code>n</code> 新建分区</li> <li><code>d</code> 删除分区</li></ul></li></ul> <h4 id="lsblk-命令"><a href="#lsblk-命令" class="header-anchor">#</a> lsblk 命令</h4> <p><code>lsblk</code>，list block devices，展示所有块设备信息、分区情况、挂载点等。</p> <p><code>blkid</code>，查看块设备的 UUID、名称、文件系统等。</p> <h4 id="mount"><a href="#mount" class="header-anchor">#</a> mount</h4> <p><code>mount /dev/sdb1 /mydir</code>，将分区挂载到指定挂载点上。</p> <p><code>umount</code> 是卸载，可以通过挂载点或者设备参数进行卸载 <code>umount /mydir</code> or <code>umount /dev/sda1</code></p> <h4 id="etc-fstab"><a href="#etc-fstab" class="header-anchor">#</a> /etc/fstab</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>dev/sdb1 /mnt/sdb ext4 defaults <span class="token number">0</span> <span class="token number">0</span>
<span class="token comment"># 参数解释：</span>
<span class="token comment"># 第1列: 挂载设备</span>
<span class="token comment">#     (1) /dev/sda5  </span>
<span class="token comment">#     (2) UUID=设备的uuid   rhel6/7的默认写法   同一台机器内唯一的一个设备标识</span>
<span class="token comment"># 第2列: 挂载点</span>
<span class="token comment"># 第3列: 文件系统类型</span>
<span class="token comment"># 第4列: 文件系统属性	</span>
<span class="token comment"># 第5列: 是否对文件系统进行磁带备份：0 不备份</span>
<span class="token comment"># 第6列: 是否检查文件系统：0 不检查</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="配置-jdk"><a href="#配置-jdk" class="header-anchor">#</a> 配置 JDK</h2> <ol><li><p>安装</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">sudo</span> add-apt-repository ppa:openjdk-r/ppa
<span class="token function">sudo</span> <span class="token function">apt-get</span> update

<span class="token comment"># 有的系统这一句即可。</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> -y <span class="token function">install</span> openjdk-8-jdk
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>配置环境变量</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 打开配置文件</span>
<span class="token function">sudo</span> <span class="token function">vi</span> /etc/profile
<span class="token comment"># 在文件最末尾追加以下内容：</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/usr/lib/jvm/java-8-openjdk-amd64
<span class="token builtin class-name">export</span> <span class="token assign-left variable">JRE_HOME</span><span class="token operator">=</span><span class="token variable">${JAVA_HOME}</span>/jre
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CLASSPATH</span><span class="token operator">=</span>.:<span class="token variable">${JAVA_HOME}</span>/lib:<span class="token variable">${JRE_HOME}</span>/lib
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>.:<span class="token variable">${JAVA_HOME}</span>/bin:<span class="token environment constant">$PATH</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ol> <h2 id="环境变量"><a href="#环境变量" class="header-anchor">#</a> 环境变量</h2> <p>执行 <code>export</code> 返回系统中所有的环境变量。</p> <h3 id="path"><a href="#path" class="header-anchor">#</a> PATH</h3> <blockquote><p>为什么使用 rm、rmdir、ls 等命令时，无论当前位于哪个目录，都可以直接使用，
而无需指明命令的执行文件所在的位置（绝对路径）呢？其实，这是 PATH 环境变量在起作用。</p></blockquote> <p>首先，执行 <code>echo $PATH</code>，会返回 PATH 环境变量的所有值。</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>➜  ~ <span class="token builtin class-name">echo</span> <span class="token environment constant">$PATH</span>
/usr/java/jdk8/bin:/home/user/.gvm/pkgsets/go1.16.5/global/bin:/home/<span class="token punctuation">..</span>.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>PATH 环境变量的内容是由一堆目录组成的，各目录之间用冒号 <code>:</code> 隔开。
当执行某个命令时，Linux 会依照 PATH 中包含的目录依次搜寻该命令的可执行文件，
一旦找到，即正常执行；反之，则提示无法找到该命令。</p> <p>如果在 PATH 包含的目录中，有多个目录都包含某命令的可执行文件，那么会 <strong>执行先搜索到的</strong> 可执行文件。</p> <blockquote><p>换言之：你的 <code>rm</code> 命令实际上是在 <code>/usr/bin/rm</code> 这个位置，但是你可以在任何目录下使用它，
这是因为 <code>/usr/bin/</code> 目录已经存在于环境变量 PATH 中，当你运行 <code>rm</code> 命令的时候，系统会去直接去 PATH 中去查找，
找到就执行，找不到就报错。先找到的就直接执行，不再继续查找了。</p></blockquote> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>➜  ~ <span class="token function">which</span> <span class="token function">rm</span>
/usr/bin/rm
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="custom-block danger"><p class="custom-block-title">注意</p> <p>只要你的命令（脚本）在 <code>PATH</code> 声明的路径内，就可以全局使用。这时候，你可能会选择 <code>ln -s &lt;your_script&gt; &lt;一个已经声明的 PATH 路径&gt;</code>，这样就可以不用配置环境变量，从而使得你的脚本全局可用。比如，你可能会将你下载的一个第三方脚本软链到 <code>/usr/bin</code> 目录，因为该目录已经配置到 <code>PATH</code>，所以你将脚本软链过去，就可以实现命令全局可用。</p> <p>但是，软链接一定要用 <strong>绝对路径</strong> ！！！</p></div> <h3 id="修改-path"><a href="#修改-path" class="header-anchor">#</a> 修改 PATH</h3> <p>// TODO</p> <h2 id="crond"><a href="#crond" class="header-anchor">#</a> crond</h2> <blockquote><p>Linux 中有些服务以 <code>d</code> 结尾，<code>d</code> 是 <code>daemon</code> 的缩写，说明它自己是个守护进程(<code>daemon</code>) ，它在后台运行，一般都是用来做服务端程序(服务 service)。
如 <code>mysqld</code> 代表是 <code>mysql</code> 数据库服务的守护进程。</p></blockquote> <p><code>crond</code> 是 <code>Linux</code> 下用来周期性的执行某种任务或等待处理某些事件的一个守护进程，与 Windows 下的计划任务类似，当安装完成操作系统后，默认会安装此服务工具并自动启动<code>crond</code> 进程，<code>crond</code> 进程每分钟会定期检查是否有要执行的任务，如果有要执行的任务，则自动执行该任务。</p> <p><code>crond</code> 的最小粒度是分钟，该服务每分钟会去检查一下任务列表文件，然后执行需要执行的脚本。对应的 cron 表达式只有 5 级：<code>* * * * *</code>，分别是 <code>minute hour day month week command</code>。</p> <h3 id="crontab"><a href="#crontab" class="header-anchor">#</a> crontab</h3> <p><code>crond</code> 服务的命令是 <code>crontab</code>，常用参数如下：</p> <ul><li><code>crontab -e</code>，编辑任务文件。<em>常用</em></li> <li><code>crontab -l</code>，查看任务文件。</li> <li><code>crontab -r</code>，删除任务文件。</li> <li><code>crontab -i</code>，删除任务文件(交互性的，简单说就是会让确认)。</li> <li><code>crontab -u</code>，编辑任务文件，使用 <code>-u</code> 指定用户，如果不加这个参数，默认操作的是当前用户的文件。</li></ul> <p>注意：任务文件中存放了某个用户下配置的所有 cron 任务，如果只是移除某个任务，只需要使用 <code>crontab -e</code> 移除要删除的任务就行了。</p> <h3 id="执行日志"><a href="#执行日志" class="header-anchor">#</a> 执行日志</h3> <p><code>/var/log/cron</code></p> <h3 id="crontab-文件"><a href="#crontab-文件" class="header-anchor">#</a> crontab 文件</h3> <blockquote><p>系统级别 crontab 文件在 <code>/etc/crontab</code>，用户自定义 crontab 文件在 <code>/var/spool/cron/</code> 下，名字和用户名一致。</p></blockquote> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># Edit this file to introduce tasks to be run by cron.</span>
<span class="token comment"># </span>
<span class="token comment"># Each task to run has to be defined through a single line</span>
<span class="token comment"># indicating with different fields when the task will be run</span>
<span class="token comment"># and what command to run for the task</span>
<span class="token comment"># </span>
<span class="token comment"># To define the time you can provide concrete values for</span>
<span class="token comment"># minute (m), hour (h), day of month (dom), month (mon),</span>
<span class="token comment"># and day of week (dow) or use '*' in these fields (for 'any').# </span>
<span class="token comment"># Notice that tasks will be started based on the cron's system</span>
<span class="token comment"># daemon's notion of time and timezones.</span>
<span class="token comment"># </span>
<span class="token comment"># Output of the crontab jobs (including errors) is sent through</span>
<span class="token comment"># email to the user the crontab file belongs to (unless redirected).</span>
<span class="token comment"># </span>
<span class="token comment"># For example, you can run a backup of all your user accounts</span>
<span class="token comment"># at 5 a.m every week with:</span>
<span class="token comment"># 0 5 * * 1 tar -zcf /var/backups/home.tgz /home/</span>
<span class="token comment"># </span>
<span class="token comment"># For more information see the manual pages of crontab(5) and cron(8)</span>
<span class="token comment"># </span>
<span class="token comment"># m h  dom mon dow   command</span>
* * * * * <span class="token function">date</span> <span class="token operator">&gt;&gt;</span> /opt/time.txt　<span class="token comment"># 每一分钟执行一次</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="用户管理"><a href="#用户管理" class="header-anchor">#</a> 用户管理</h2> <ul><li><p>添加新用户</p> <p>格式： <code>useradd [选项] [username]</code></p></li> <li><p>删除用户</p> <p>格式： <code>userdel [选项] [username]</code></p></li> <li><p>修改账号</p> <p>格式： <code>usermod [选项] [username]</code></p></li> <li><p>修改密码</p> <p>格式： <code>passwd</code></p></li></ul> <h2 id="proc"><a href="#proc" class="header-anchor">#</a> /proc</h2> <p>在 Linux 系统中，<code>/proc</code> (process，进程) 目录是一个特殊的文件系统，用于存储有关系统内核和进程的信息。在 <code>/proc</code> 目录下存储了大量的系统信息文件，其中包括表示进程的文件夹、文件以及符号链接等。</p> <p>另外，在 Linux 系统中，每个进程都会有一个数字标识符，称为进程ID（<code>PID</code>）。而在 <code>/proc</code> 目录中，每个进程的信息都会被存储在以进程ID命名的文件夹下。</p> <h2 id="fd文件描述符"><a href="#fd文件描述符" class="header-anchor">#</a> fd文件描述符</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>首先，再次明确，<strong>Linux 中一切皆文件。</strong></p> <p>即使是一个设备，比如键盘、显示器等在 Linux 系统中都只是一个文件。</p></div> <blockquote><p><code>/proc</code> 目录下有个子目录叫做 <code>fd</code>，也就是文件描述符，主要用来了解进程使用的文件和网络连接等信息。</p></blockquote> <p>文件描述符，即 <code>fd</code> -&gt; file descriptor, <code>fd</code>是 Linux 系统中对已打开文件的一个抽象标记，所有 I/0 系统调用对已打开文件的操作都要用到它。这里的“文件”仍然是广义的，即除了普通文件和目录外，还包括管道、FIFO(命名管道)、Socket、终端、设备等。</p> <p>文件描述符是一个与打开文件或资源相关联的较小的非负整数，<em>并且 0、1、2 三个描述符总是默认分配给标准输入、标准输出和标准错误。这就是常用的 <code>nohup./my script&gt;my script.log 2&gt;&amp;1 &amp;</code> 命令里 2 和 1 的由来</em>。</p> <blockquote><p>像 0、1、2 这种文件描述符，也可以理解为<strong>句柄</strong>，类似文件的指针的指针，可以简单理解为文件的指针（虽然不太恰当），就是根据这个能找到实际操作的文件。</p></blockquote> <p><img src="/assets/img/proc-fd.1f433e75.png" alt="/proc/fd"></p> <p>当一个进程打开一个文件或创建一个网络连接时，系统会为这个打开的资源分配一个文件描述符。通过 <code>/proc</code> 目录中的 <code>fd</code> 文件夹，可以査看进程当前打开的文件描述符以及与之关联的文件或资源。</p> <p>在进程的 <code>fd</code> 文件夹中，每个文件描述符会以<strong>符号链接的形式</strong>存在。这些符号链接会指向进程所打开的文件或资源的真实路径。通过查看这些符号链接，可以看到进程当前正在访问的文件或资源的详细信息。</p> <h2 id="重定向"><a href="#重定向" class="header-anchor">#</a> 重定向</h2> <h3 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h3> <blockquote><p>例子理解：</p></blockquote> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># test.sh 文件内容:</span>
<span class="token builtin class-name">read</span> name
<span class="token builtin class-name">echo</span> <span class="token string">&quot;name inputed by you is&quot;</span> <span class="token variable">$name</span>

<span class="token comment"># 执行 test.sh</span>
<span class="token function">bash</span> test.sh
<span class="token comment"># 首先程序会让你输入一个值，保存到变量 name 中，比如输入 xiaoming，然后回车，</span>
<span class="token comment"># 然后就会输出 name inputed by you is xiaoming</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>在执行上述脚本的过程中，你可以简单的理解为从你键盘输入的内容到了标准输入(stdin)文件中，然后将标准输入文件的内容复制到了标准输出(stdout)文件中，然后标准输出文件一般对应的是你的显示器文件，所以内容就在显示器中输出了，当然，实际比这复杂得多。</p> <p>标准错误则是用来输出错误信息用的，比如你输入一个不存在的命令，这时候错误信息就会输出到标准错误(stderr)文件中，它一般对应的也是显示器文件，所以错误信息就输出到显示器了。</p> <h3 id="重定向-2"><a href="#重定向-2" class="header-anchor">#</a> 重定向</h3> <blockquote><p>重定向就是将本该输出到你的显示器的内容，输出到你指定的位置。</p></blockquote> <p>一般来说，默认标准输入(0)对应你的键盘，标准输出(1)对应你的显示器，标准错误(2)也对应你的显示器。</p> <p>比如你输入一个命令 <code>ls /test</code>，这种情况下，默认就是将 <code>ls /test</code> 命令的执行结果输出到了你的显示器（默认的），但是当你使用 <code>ls /test &gt; a.txt</code> 命令时，这表示你重新定义了命令执行结果的输出位置，即将命令执行结果重定向到 a.txt 文件中，而不是输出到显示器了。</p> <ul><li><code>&gt;</code> <ul><li>将命令执行结果的 <strong>标准输出</strong> 重定向到一个位置，如果不存在则创建，如果存在，则直接覆盖之前的内容。</li></ul></li> <li><code>2&gt;</code> <ul><li>将命令执行结果的 <strong>标准错误</strong> 重定向到一个位置，如果不存在则创建，如果存在，则直接覆盖之前的内容。</li></ul></li> <li><code>&gt;&gt;</code> <ul><li>将命令执行结果的 <strong>标准输出</strong> 重定向到一个位置，如果不存在则创建，如果存在，则追加到原来内容的后面。</li></ul></li> <li><code>2&gt;&gt;</code> <ul><li>将命令执行结果的 <strong>标准错误</strong> 重定向到一个位置，如果不存在则创建，如果存在，则追加到原来内容的后面。</li></ul></li> <li><code>&amp;&gt;</code> 或 <code>&amp;&gt;&gt;</code> <ul><li>将命令执行得到的标准输出和标准错误都重定向到一个位置</li></ul></li></ul> <p>注意：<code>&gt;</code> 等同于 <code>1&gt;</code>，即将标准输出重定向到指定位置，因为默认操作的是标准输出，所以 <code>1&gt;</code> 可以简写为 <code>&gt;</code>。<code>2&gt;</code> 则必须写成 <code>2&gt;</code>，不可以简写为 <code>&gt;</code>，同理，<code>&gt;&gt;</code> 等于 <code>1&gt;&gt;</code>，<code>2&gt;&gt;</code> 只能是 <code>2&gt;&gt;</code>。</p> <h2 id="守护进程-daemon"><a href="#守护进程-daemon" class="header-anchor">#</a> 守护进程 daemon</h2> <ul><li>前台任务（foreground job），它会独占命令行窗口，只有运行完了或者手动中止，才能执行其他命令。</li> <li><code>jobs</code> 显示当前暂停的进程</li> <li>在一个命令后面加上 <code>&amp;</code>，可以将一个前台任务变成后台任务。</li> <li>如果想将一个正在运行的任务改成后台任务
<ol><li><code>CTRL + Z</code>，强制当前进程转为后台，并使之挂起(暂停)</li> <li><code>jobs -l</code> 查看所有的后台进程。</li> <li><code>bg</code> 命令（让最近一个暂停的&quot;后台任务&quot;继续执行），<code>bg %&lt;job 号&gt;</code> 继续执行指定 job。</li> <li><code>fg</code> 可以将命令转到前台执行。</li></ol></li></ul> <h3 id="使用-nohup-启动后台进程"><a href="#使用-nohup-启动后台进程" class="header-anchor">#</a> 使用 nohup 启动后台进程</h3> <p><code>nohup &lt;command&gt;</code>，no hang up，不挂起。</p> <p>这个命令不会将启动的任务变成一个后台任务，所以在命令的最后要加一个 <code>&amp;</code> 符号，使启动的任务变成一个后台任务。</p> <ul><li><code>nohup java -jar classwork-0.0.1-SNAPSHOT.jar &amp;&gt; classwork.text &amp;</code></li> <li><code>nohup java -jar classwork-0.0.1-SNAPSHOT.jar &gt; classwork.text 2&gt;&amp;1 &amp;</code></li> <li>上面两种方式一样效果。</li></ul> <h2 id="root-用户密码"><a href="#root-用户密码" class="header-anchor">#</a> root 用户密码</h2> <p>Ubuntu 默认 root 密码是随机的，即每次开机都有一个新的 root 密码。我们可以在终端输入命令 <code>sudo passwd</code>，然后输入当前用户的密码。终端会提示我们输入新的密码并确认，此时的密码就是 root 新密码。修改成功后，输入命令 <code>su root</code>，再输入新的密码就 ok 了。</p> <h2 id="允许普通用户使用-sudo"><a href="#允许普通用户使用-sudo" class="header-anchor">#</a> 允许普通用户使用 sudo</h2> <p>Ubuntu 下普通用户用 <code>sudo</code> 执行命令时报 <em>&quot;xxx is not in the sudoers file.This incident will be reported&quot;</em> 错误，
解决方法就是在 <code>/etc/sudoers</code> 文件里给该用户添加权限。如下：</p> <ol><li><p>切换到 root 用户下。</p></li> <li><p><code>/etc/sudoers</code> 文件默认是只读的，对 root 来说也是，因此需先添加 sudoers 文件的写权限,命令是: <code>chmod u+w /etc/sudoers</code>。</p></li> <li><p>编辑 sudoers 文件: <code>vi /etc/sudoers</code>。
找到这行 <code>root ALL=(ALL) ALL</code>，在他下面添加 <code>xxx ALL=(ALL) ALL</code> (这里的 xxx 是你的用户名)</p> <p>ps: 这里说下你可以 sudoers 添加下面四行中任意一条：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>youuser   <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span>  ALL
%youuser  <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span>  ALL
youuser   <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span>  NOPASSWD: ALL
%youuser  <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span>  NOPASSWD: ALL
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>第一行: 允许用户 youuser 执行 sudo 命令(需要输入密码).
第二行: 允许用户组 youuser 里面的用户执行 sudo 命令(需要输入密码).
第三行: 允许用户 youuser 执行 sudo 命令,并且在执行的时候不输入密码.
第四行: 允许用户组 youuser 里面的用户执行 sudo 命令,并且在执行的时候不输入密码.</p></li> <li><p>撤销 sudoers 文件写权限,命令: <code>chmod u-w /etc/sudoers</code></p></li></ol> <h2 id="ssh"><a href="#ssh" class="header-anchor">#</a> SSH</h2> <p>Secure Shell 的缩写，即安全外壳协议。</p> <p>它是一种专为远程登录会话和其他网络服务提供安全性的协议，利用 SSH 协议可以有效防止远程管理过程中的信息泄露问题。</p> <p>从客户端来看，SSH 支持两种级别的安全验证：</p> <ul><li>基于<a href="#%E5%AF%86%E7%A0%81%E5%8F%A3%E4%BB%A4">密码口令</a></li> <li>基于<a href="#%E5%85%AC%E9%92%A5%E7%A7%81%E9%92%A5%E7%99%BB%E5%BD%95">公钥登录</a></li></ul> <h3 id="密码口令"><a href="#密码口令" class="header-anchor">#</a> 密码口令</h3> <p><img src="/assets/img/ssh-password.76e37c1d.png" alt="基于口令"></p> <ol><li>远程主机收到用户请求，将自己的公钥发送给用户。</li> <li>用户使用这个公钥加密自己的密码，发送到远程主机。</li> <li>远程主机使用自己的私钥解密密码并验证。</li></ol> <p><strong>风险：</strong> 因为 SSH 不像 HTTPS，SSH 的公钥是没有证书中心（CA）公证的，是自己签发的，所以可能会有被别人截获你的登录请求，并冒充远程主机的风险。
即：口令登录是只要你知道自己帐号和口令，就可以登录到远程主机。所有传输的数据都会被加密，但是不能保证你正在连接的服务器就是你想连接的服务器。
可能会有别的服务器在冒充真正的服务器，也就是受到“中间人”这种方式的攻击。</p> <p><strong>解决方式：</strong> <a href="#know-hosts">know_hosts</a></p> <h3 id="公钥私钥登录"><a href="#公钥私钥登录" class="header-anchor">#</a> 公钥私钥登录</h3> <blockquote><p>大概原理如下，并非完全一致，但主要思想是一样的</p></blockquote> <p><img src="/assets/img/ssh-public-key.0262e157.png" alt="基于公钥"></p> <ol><li>客户端生成公钥和私钥</li> <li>用户将自己的公钥放到远程主机</li> <li>用户在客户端向远程主机发起连接请求（携带自己的公钥），远程主机查看该公钥是否在自己的列表里，如果在，生成随机数(challenge)，使用公钥加密，返回给客户端。</li> <li>客户端使用私钥解密，发送解密后的随机数(challenge)给远程主机。</li> <li>远程主机验证客户端返回的随机数(challenge)正确性。</li></ol> <h3 id="ssh-目录"><a href="#ssh-目录" class="header-anchor">#</a> .ssh 目录</h3> <p>使用 <code>ssh-keygen</code> 在主机上生成公钥和私钥，默认会生成在 <code>.ssh</code> 目录里。</p> <p>该目录会存在以下文件：</p> <ul><li><code>is_rsa</code>，私钥</li> <li><code>id_rsa.pub</code>，公钥</li> <li><a href="#authorizedkeys">authorized_keys</a>，远程主机的公钥，一行一个</li> <li><a href="#knowhosts">know_hosts</a> ，被连接主机的公钥，下次连接时会核对公钥是否一致，如果不一致，会发出警报</li></ul> <h4 id="authorized-keys"><a href="#authorized-keys" class="header-anchor">#</a> authorized_keys</h4> <p>客户端想要连接远程主机，需要将客户端生成的公钥放到远程主机，这里放的就是远程主机的 <code>authorized_keys</code> 目录。</p> <p>只有这样，用户才可以使用自己的私钥免密登录远程主机。</p> <p>使用 <code>ssh-copy-id -i &lt;file_path&gt; user@hostname</code> 将指定的公钥上传到待连接服务器的 <code>authorized_keys</code> 目录。</p> <p>这里 <code>ssh-copy-id</code> 会自动给远程主机的相关目录配置权限。</p> <h4 id="know-hosts"><a href="#know-hosts" class="header-anchor">#</a> know_hosts</h4> <p>第一次登录远程主机的时候，系统会出现以下提示：</p> <p><img src="/assets/img/ssh-know-hosts.11684075.png" alt="know hosts"></p> <p>这里是说，无法确认 <code>8.*.*.182</code> 主机的真实性，只知道公钥指纹，是否继续连接？</p> <p><em>公钥指纹：因为公钥长度较长，不方便比对，所以将其使用 MD5 摘要后得到一个 128 位的指纹，以方便比对。</em></p> <p>如果选择继续连接的话，这个公钥就会保存在 <code>.ssh/known_hosts</code> 中，下次再连接这个主机的时候，系统在本地的 <code>know_hosts</code> 中检查，如果存在，就不会再弹出警告，直接提示输入密码。</p> <p>除了每个用户都有自己的 <code>know_hosts</code> 文件外，系统也会有一个 <code>/etc/ssh/ssh_known_hosts</code>(通常是)，用来保存一些公用的可信赖主机公钥。</p> <p><strong>问题：</strong></p> <ul><li>第一次连接远程主机时，仍可能会遭到“中间人”攻击。</li> <li>由于 <code>know_hosts</code> 需要用户来选择是否继续连接，但是用户并不知道远程主机的公钥指纹，所以这就需要远程主机公开自己的公钥指纹，以便用户自行核对。</li> <li>一些自动化脚本中，需要自动登录到远程主机，但是 <code>know_hosts</code> 机制必须手动输入 yes 确认，这就无法实现脚本自动化。这时，我们可以通过修改 <a href="#ssh-config">ssh_config</a> 配置文件，跳过 <code>know_hosts</code> 的询问机制，将 <code># StrictHostKeyChecking ask</code> 改为 <code>StrictHostKeyChecking no</code> 就可以了。</li></ul> <h3 id="ssh-config"><a href="#ssh-config" class="header-anchor">#</a> SSH config</h3> <p>SSH 可以从以下途径获取配置参数：</p> <ul><li>命令行选项</li> <li>用户配置文件 <code>~/.ssh/config</code></li> <li>系统配置文件 <code>/etc/ssh/ssh_config</code></li></ul> <p><a href="https://www.ssh.com/academy/ssh/config#format-of-ssh-client-config-file-ssh_config" target="_blank" rel="noopener noreferrer">配置文件选项<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，也可以使用 <code>man ssh config</code> 命令去查看选项详情。</p> <p>用户配置文件示例：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># gitee</span>
Host gitee <span class="token comment"># 别名</span>
HostName gitee.com <span class="token comment"># 真实地址</span>
IdentityFile ~/.ssh/id_rsa_github <span class="token comment"># 使用哪个私钥文件</span>
<span class="token comment"># gitlab</span>
Host gitlab.xxx.com
HostName gitlab.xxx.com
IdentityFile ~/.ssh/id_rsa_gitlab
<span class="token comment"># github</span>
Host github.com
HostName github.com
User <span class="token function">git</span>
IdentityFile ~/.ssh/id_rsa_github
<span class="token comment"># aliyun</span>
Host ali
HostName *.*.*.* or hostName
User username
IdentityFile ~/.ssh/id_rsa_aliyun
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>配置别名以后就可以使用 <code>ssh ali</code> 直接进行服务器的登录。</p> <p><strong>注意：</strong> 配置了别名以后，要使用别名代替域名，没有配置别名的时候，才可以直接使用域名。否则会报错。</p> <h2 id="scp"><a href="#scp" class="header-anchor">#</a> SCP</h2> <p>scp，即 secure copy。</p> <p>它是 linux 系统下基于 ssh 登陆进行安全的远程文件拷贝的命令，和它类似的命令有 cp，
不过 cp 只是在本机进行拷贝不能跨服务器，而且 scp 传输是加密的。</p> <p>scp 是加密的，rcp 是不加密的，scp 是 rcp 的加强版。</p> <p>格式： <code>scp [参数] [原路径] [目标路径]</code></p> <ul><li><p>示例：将本机桌面的一张图片 aa.img 拷贝到远程主机的某个位置</p> <p><code>scp /Desktop/aa.img user@8.*.*.112:/home/user/Desktop/</code></p></li></ul> <p>常用参数：</p> <ul><li>-B 使用批处理模式（传输过程中不询问传输口令或短语）</li> <li>-C 允许压缩。（将 -C 标志传递给 ssh，从而打开压缩功能）</li> <li>-p 保留原文件的修改时间，访问时间和访问权限。</li> <li>-r 递归复制整个目录。</li> <li>-P port 注意是大写的 P, port是指定数据传输用到的端口号。</li></ul> <h3 id="scp-和-sftp"><a href="#scp-和-sftp" class="header-anchor">#</a> SCP 和 SFTP</h3> <p><a href="./Using%20Linux%20OS#SCP-%E5%92%8C-SFTP">异同点</a></p> <h2 id="sftp"><a href="#sftp" class="header-anchor">#</a> SFTP</h2> <p>SSH 文件传输协议，SSH File Transfer Protocol。</p> <p>也称 Secret File Transfer Protocol，安全文件传送协议，Secure FTP 或 SFTP。</p> <p>和 scp 的作用一致，都是可以进行上传下载的命令。</p> <p>sftp 无法一次性创建多级目录，只能一次创建一个目录。</p> <ul><li>sftp 指定端口号 <code>sftp -oPort=222 test@222.222.111.222</code></li></ul> <h3 id="scp-vs-sftp"><a href="#scp-vs-sftp" class="header-anchor">#</a> SCP vs SFTP</h3> <ul><li><strong>速度：</strong> scp 比 sftp 快得多。这是因为scp实现了更高效的传输算法，不需要等待数据包确认。</li> <li><strong>安全：</strong> 两种协议都基于 ssh，提供相同的安全功能。</li> <li><strong>功能：</strong> scp 只提供文件传输的功能，但是 sftp 还提供了 cd、ls 等操作查找文件夹的功能，并且 sftp 还支持断点续传，功能比 scp 更强大。</li> <li><strong>传输文件大小：</strong> 都没有大小限制，但是 scp 更快。</li></ul> <h2 id="ftp"><a href="#ftp" class="header-anchor">#</a> FTP</h2> <p>FTP（File Transfer Protocol）只使用 TCP 协议传输，服务传输的数据不会被加密（注意安全问题），所有传输通过明文进行的。分为主动模式和被动模式，一般运行在 20 和 21 两个端口：</p> <blockquote><p>主动/被动的参照物就是服务端，主动/被动都是<strong>客户端决定的</strong>。</p> <p>主动模式 <code>PORT</code>，就是服务器主动连接客户端 <em>一般不用</em></p> <p>被动模式 <code>PASSIVE</code> or <code>PASV</code>，就是客户端主动连接服务端 <em>一般用这个</em></p></blockquote> <ul><li>数据端口 20 （默认）</li> <li>命令端口 21 （默认）</li></ul> <p><strong>注意：</strong> 当混入主动/被动模式的时候，数据端口可能就不是 20 了。</p> <h3 id="主动模式"><a href="#主动模式" class="header-anchor">#</a> 主动模式</h3> <blockquote><p>客户端请求 <strong>服务器主动连接客户端</strong></p></blockquote> <p><img src="/assets/img/ftp-port.8275f18b.png" alt="FTP 主动模式"></p> <ol><li>客户端命令端口与 FTP 服务器的命令端口建立连接，并发送命令 <code>PORT 1027</code>。
<ul><li><em>告诉服务端，我要使用主动模式，我的端口是 1027，你来连我</em>。</li></ul></li> <li>FTP 服务器给客户端的命令端口返回一个 <code>ACK</code>（确认）。</li> <li>FTP 服务器发起一个从它自己的数据端口（20）到客户端先前指定的数据端口（1027）的连接。</li> <li>最后客户端给服务器端返回一个 <code>ACK</code>（确认）。</li></ol> <h3 id="被动模式"><a href="#被动模式" class="header-anchor">#</a> 被动模式</h3> <blockquote><p>客户端请求 <strong>主动去连接服务端</strong></p></blockquote> <p><img src="/assets/img/ftp-passive.b9056db7.png" alt="FTP 被动模式"></p> <ol><li>客户端命令端口与 FTP 服务器的命令端口建立连接，并发送命令 <code>PASV</code>。
<ul><li><em>告诉服务器我要用被动模式，告诉我你的端口号，我去连你</em>。</li></ul></li> <li>服务器返回命令 <code>PORT 2024</code>，告诉客户端 2024 端口侦听数据连接。</li> <li>客户端初始化一个从自己的数据端口 1027 到服务器端指定的数据端口 2024 的数据连接。</li> <li>最后服务器给客户端的数据端口返回一个 <code>ACK</code> 响应。</li></ol> <h3 id="ftp-vs-sftp"><a href="#ftp-vs-sftp" class="header-anchor">#</a> FTP vs SFTP</h3> <ul><li>端口占用
<ul><li>SFTP 属于 SSH 协议中一个，只需要使用一个22 （TCP）端口。</li> <li>FTP 使用 2 个 FTP 连接，一个数据端口 20，一个命令端口 21。</li></ul></li> <li>安全
<ul><li>SFTP 是加密数据，传输效率会低一些，因为有加解密过程。</li> <li>FTP 是明文传输数据，效率高。<em>可以使用 SSL 实现加密（FTPS）</em></li></ul></li></ul> <h3 id="ftp-命令"><a href="#ftp-命令" class="header-anchor">#</a> FTP 命令</h3> <ul><li>下载
<ul><li><code>get</code>	从服务器下载指定文件到客户端</li> <li><code>mget</code> 下载文件，模糊匹配</li> <li><code>newer</code> 下载时，检测是不是新文件</li> <li><code>hash</code> 显示#表示下载进度</li></ul></li> <li>上传
<ul><li><code>put</code>	从客户端传送指定文件到服务器</li> <li><code>mput</code> 上传文件，模糊匹配</li></ul></li> <li>删除
<ul><li><code>delete</code> 删除远端ftp服务器上的文件</li> <li><code>mdelete</code> 删除文件，模糊匹配</li></ul></li> <li>连接
<ul><li><code>open</code> 连接ftp服务器</li> <li><code>close</code> 在不结束ftp进程的情况下，关闭与ftp服务器的连接</li> <li><code>quit</code> 断开连接并退出ftp服务器</li> <li><code>bye</code> 退出ftp命令状态</li></ul></li> <li>目录操作
<ul><li><code>pwd</code> 显示当前目录</li> <li><code>ls</code> 显示服务器上的目录</li> <li><code>cd &lt;directory&gt;</code> 改变服务器的当前目录为directory</li> <li><code>lcd &lt;directory&gt;</code> 改变本地的当前目录为directory</li> <li><code>cdup</code> 上一层目录</li> <li><code>mkdir</code> 在远端ftp服务器上，建立文件夹</li></ul></li> <li>其他
<ul><li><code>ascii</code> 设置文件传输方式为ASCII模式</li> <li><code>binary</code> 设置文件传输方式为二进制模式</li> <li><code>!</code> 执行本地主机命令</li> <li><code>prompt</code> 关闭交互模式</li></ul></li></ul> <h2 id="科学上网"><a href="#科学上网" class="header-anchor">#</a> 科学上网</h2> <p>利用 V2ray + Qv2Ray（可视化界面）。</p> <ol><li><p>下载 v2ray-core</p></li> <li><p>下载 Qv2Ray（v2ray 的图形化界面软件）</p> <p><a href="https://hissin.cn/zheteng/795.html" target="_blank" rel="noopener noreferrer">v2ray<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="http://qv2ray.net/lang/zh/" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>配置 qv2ray 内核，也就是 v2ray-core</p></li></ol> <ul><li>执行文件路径： v2ray 的可执行文件</li> <li>资源目录： v2ray 解压后的根目录</li></ul> <h2 id="terminator"><a href="#terminator" class="header-anchor">#</a> Terminator</h2> <p>使用 Terminator 替换系统自带的终端。</p> <h2 id="端口范围"><a href="#端口范围" class="header-anchor">#</a> 端口范围</h2> <p>端口范围一般是 <code>0-65535</code>,其中 <code>0</code>不使用, <code>1-1023</code> 为系统端口,也叫 BSD 保留端口。<code>1024-65535</code> 为用户端口。</p> <ul><li><code>0-1023</code>，BSD 保留端口，也叫系统端口，这些端口只有系统特许的进程才能使用。</li> <li><code>1024-65535</code>，用户端口：
<ul><li><code>1024-5000</code>，BSD 临时端口，一般的应用程序使用 1024 到 4999 来进行通讯。</li> <li><code>5001-65535</code>，BSD 服务器(非特权)端口，用来给用户自定义端口。</li></ul></li></ul> <h2 id="ifconfig"><a href="#ifconfig" class="header-anchor">#</a> ifconfig</h2> <p><code>ifconfig</code> 是 linux 中用于显示或配置网络设备（网络接口卡）的命令，英文全称是 network interfaces configuring。</p> <ul><li><code>ifconfig</code> 用于配置网络接口 Interface config。</li> <li><code>iwconfig</code> 用于配置无线网络接口 Interface Wlan config。</li></ul> <p><img src="/assets/img/ifconfig.8caa30c2.png" alt="ifconfig"></p> <p><strong>使用该命令最常见的三项：</strong></p> <ul><li><code>lo</code> (local)</li> <li><code>enp2s0</code> (en p2s0)
<ul><li>en 表示以太网（ethernet），p2s0 表示 PCI 接口位置：bus=2, slot=0。</li> <li>旧版的都是 <code>eth0</code>、<code>eth1</code> 这种，在 Ubuntu 16 后进行了升级（引入 systemd <a href="https://www.freedesktop.org/wiki/Software/systemd/PredictableNetworkInterfaceNames/" target="_blank" rel="noopener noreferrer">参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）。</li></ul></li> <li><code>wlp3s0</code> (wl p3s0)
<ul><li>wl 表示 wlan(Wireless Local Area Network) 无线局域网。</li></ul></li></ul> <p><strong>小知识:</strong> <em>PCI 外设部件互连标准(Peripheral Component Interconnect)，PCI 接口的物理位置的坐标(bus, slot)，其中 bus 表示总线，slot 表示插槽。</em></p> <p><strong>其他内容含义：</strong></p> <ul><li><code>flags</code> 表示网卡状态:
<ul><li><code>UP</code>：表示“接口已启用”。</li> <li><code>BROADCAST</code> ：表示“主机支持广播”。</li> <li><code>RUNNING</code>：表示“接口在工作中”。</li> <li><code>MULTICAST</code>：表示“主机支持多播”。</li></ul></li> <li><code>mtu</code>，Maximum Transmission Unit，最大传输单元，以字节为单位。</li> <li><code>inet</code>，网卡的 ip 地址，ipv4。inet6，ipv6 地址。</li> <li><code>ether</code>，链接方式为以太网，后面为硬件 mac 地址。</li> <li><code>txqueuelen</code>，网卡的传送队列长度。</li> <li><code>RX packets</code>，接收正确的数据包数。</li> <li><code>RX bytes</code>，接收的数据量。</li> <li><code>RX errors</code>，接收时，产生错误的数据包数。</li> <li><code>RX dropped</code>，接收时，丢弃的数据包数。</li> <li><code>RX overruns</code>，接收时，由于速度过快而丢失的数据包数。</li> <li><code>RX frame</code>，接收时，发生 frame 错误而丢失的数据包数。</li> <li><code>TX carrier</code>，发送时，发生 carrier（载体）错误而丢失的数据包数。</li> <li><code>collisions</code>，冲突信息包的数目。</li></ul> <h2 id="firewall"><a href="#firewall" class="header-anchor">#</a> Firewall</h2> <blockquote><p>防火墙就是一组规则，用于监控、控制进出系统的网络流量。</p></blockquote> <h3 id="快速上手"><a href="#快速上手" class="header-anchor">#</a> 快速上手</h3> <p>防火墙是一组规则。当数据包进出受保护的网络区域时，进出内容（特别是关于其来源、目标和使用的协议等信息）会根据防火墙规则进行检测，以确定是否允许其通过。</p> <blockquote><p>防火墙的底层是 Netfilter，但是我们使用 <code>iptables</code> 或者 <code>firewalld</code> 等工具进行操作。</p></blockquote> <p>防火墙真正通过 Netfilter 在 Linux 内核中实现，一开始使用 <code>iptables</code> 规则集进行管理。由于 <code>iptables</code> 语法晦涩难懂，所以后来又有了 <code>firewalld</code> 等防火墙规则工具（Netfilter 解释器），不过 <code>iptables</code> 并没有被弃用，更全面的功能还是要使用 <code>iptables</code>。</p> <p>Linux 防火墙主要工作在网络层，属于典型的包过滤防火墙。在 RHEL 中常用的有两种火墙工具<code>iptables</code> 和 <code>firewalld</code>，但软件本身其实并不具备防火墙功能，他们的作用都是在用户空间中管理和维护规则，只不过规则结构和使用方法不一样罢了，真正利用规则进行过滤是由内核 Netfilter 完成的。</p> <h3 id="netfilter"><a href="#netfilter" class="header-anchor">#</a> Netfilter</h3> <p>Linux 防火墙是由 Netfilter 组件提供的，Netfilter 工作在内核空间，集成在 Linux 内核中，
Netfilter 是 Linux 2.4.x 之后新一代的 Linux 防火墙机制，是 Linux 内核的一个子系统。Netfilter 采用模块化设计，具有良好的可扩充性，提供扩展各种网络服务的结构化底层框架。Netfilter 与 IP 协议栈是无缝契合，并允许对数据报进行过滤、地址转换、处理等操作。</p> <p>Netfilter IP 信息包过滤系统是一种功能强大的工具，可用于添加、编辑和除去规则，这些规则是在做信息包过滤决定时，防火墙所遵循和组成的规则。这些规则存储在专用的信息包过滤表中，而这些表集成在 Linux 内核中。在信息包过滤表中，规则被分组放在我们所谓的链（chain）中。</p> <p>在 RHEL7 里有几种防火墙共存：<code>firewalld</code>、<code>iptables</code>、<code>ebtables</code>，默认是使用 <code>firewalld</code> 来管理 Netfilter 子系统，不过底层调用的命令仍然是 <code>iptables</code> 等。
如下图：</p> <p><img src="/assets/img/firewall-netfilter.0aec9970.png" alt="防火墙详解"></p> <h3 id="firewalld"><a href="#firewalld" class="header-anchor">#</a> Firewalld</h3> <p>Firewalld 从名字上就可以看出来是 Systemd 家族的一部分，Firewalld 可以安装在 Debian/Ubuntu 机器上，不过，它默认安装在 RedHat 和 CentOS 上。</p> <p>Firewalld 的工具是 <code>firewall-cmd</code>（命令行工具） 和 <code>firewall-config</code>(图形界面)。</p> <p>Firewalld 有两种状态：</p> <ol><li><p>运行时 <code>runtime</code>，修改规则<strong>马上</strong>生效，但是<strong>临时</strong>生效</p></li> <li><p>持久配置 <code>permanent</code>，修改后<strong>需要重载</strong>才会<strong>永久</strong>生效</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># --permanent 会将配置写入到 /etc/firewalld/{services,zones}/*.xml 文件中，配置完成后一定要 reload，否则只能待防火墙重启后这些配置才能生效。</span>
firewall-cmd --permanent <span class="token punctuation">[</span>RULE<span class="token punctuation">]</span>
firewall-cmd --reload
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ol> <h4 id="常用命令"><a href="#常用命令" class="header-anchor">#</a> 常用命令</h4> <ul><li>查看开放的端口 <code>firewall-cmd --list-ports</code></li> <li>添加端口（永久生效）<code>firewall-cmd --zone=public --add-port=88/tcp --permanent</code></li> <li>重新加载防火墙 <code>firewall-cmd --reload</code></li></ul> <h3 id="iptables"><a href="#iptables" class="header-anchor">#</a> iptables</h3> <p>// TODO</p> <h2 id="查看本机出口-ip"><a href="#查看本机出口-ip" class="header-anchor">#</a> 查看本机出口 IP</h2> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 推荐前 2 个：</span>
<span class="token function">curl</span> ifconfig.me
<span class="token comment"># 显示详细信息</span>
<span class="token function">curl</span> cip.cc

<span class="token function">curl</span> icanhazip.com
<span class="token function">curl</span> http://members.3322.org/dyndns/getip
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="etc-hosts"><a href="#etc-hosts" class="header-anchor">#</a> /etc/hosts</h2> <p>局域网内主机名到 IP 的映射配置，本地配置之后就不会再找上级的 DNS 服务器。</p> <p>该文件的作用只是先于 DNS 解析，如果在这个文件中能找到域名和 ip 的映射就直接用这里的，就不再去 DNS 进行查询了。</p> <p><strong>注意:</strong></p> <ol><li><strong>只在本地有用</strong>，只有在修改了这个文件所在主机可以使用配置的域名。</li> <li>并不是设置 hostname 的地方，设置主机名的位置是 <code>/etc/hostname</code>。</li></ol> <h2 id="域名解析"><a href="#域名解析" class="header-anchor">#</a> 域名解析</h2> <p>以下三个命令都在 <code>dnsutils</code> 包内，可以使用 <code>apt instal dnsutils</code> 安装。</p> <ul><li><code>nslookup</code> <em>已废弃</em></li> <li><code>dig</code></li> <li><code>host</code></li></ul> <h3 id="nslookup"><a href="#nslookup" class="header-anchor">#</a> nslookup</h3> <h3 id="dig"><a href="#dig" class="header-anchor">#</a> dig</h3> <h3 id="host"><a href="#host" class="header-anchor">#</a> host</h3> <p><code>host</code> 命令是 <code>dig</code> 的更加简单的显示，只显示 <code>dig</code> 的 ANSWER SECTION。</p> <h2 id="内存占用"><a href="#内存占用" class="header-anchor">#</a> 内存占用</h2> <p>持续 20 秒占用 7000MB 内存；</p> <p><code>perl -e '$size = 7000 * 1024 * 1024; $buffer = &quot;x&quot; x $size; sleep 20;' &amp;</code></p> <h2 id="jq"><a href="#jq" class="header-anchor">#</a> jq</h2> <p>jq 是一个命令行 JSON 工具，可以将一个 JSON 字符串格式化输出。</p> <p><a href="https://github.com/alingse/jq-manual-cn/tree/master/manual/v1.5" target="_blank" rel="noopener noreferrer">jq 中文手册 v1.5<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">apt</span> update
<span class="token function">apt</span> <span class="token function">install</span> jq

---
<span class="token comment"># 看下效果吧</span>
<span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">`</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;xiaoming&quot;</span><span class="token punctuation">}</span><span class="token variable">`</span></span> <span class="token operator">|</span> jq <span class="token string">&quot;.&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="包管理器"><a href="#包管理器" class="header-anchor">#</a> 包管理器</h2> <p>常见的包管理器主要有 <code>apt</code>、<code>rpm</code>、<code>yum</code>。</p> <h3 id="apt"><a href="#apt" class="header-anchor">#</a> apt</h3> <h3 id="rpm"><a href="#rpm" class="header-anchor">#</a> rpm</h3> <h3 id="yum"><a href="#yum" class="header-anchor">#</a> yum</h3> <h4 id="yum-源配置"><a href="#yum-源配置" class="header-anchor">#</a> yum 源配置</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">cd</span> /etc/yum.repos.d
<span class="token comment"># 创建一个xxx.repo，配置url</span>

<span class="token comment">#------</span>
<span class="token punctuation">[</span>repository_id<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>Repository Name
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>http://repository_url/path
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>http://repository_url/gpg_key_path

<span class="token comment"># [repository_id]：仓库的唯一标识符。</span>
<span class="token comment"># name：仓库的名称，用于在yum操作中显示。</span>
<span class="token comment"># baseurl：仓库的URL地址。</span>
<span class="token comment"># enabled：是否启用该仓库，1为启用，0为禁用。</span>
<span class="token comment"># gpgcheck：是否检查包的GPG签名，1为启用，0为禁用。</span>
<span class="token comment"># gpgkey：GPG公钥的URL地址，用于验证包的签名。</span>
<span class="token comment"># -----</span>

yum clean all <span class="token comment"># 清除系统所有的yum缓存</span>
yum makeacache <span class="token comment"># 生成新的yum缓存</span>
yum repolist <span class="token comment">#这里能看到结果就是OK了</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="常见发行版"><a href="#常见发行版" class="header-anchor">#</a> 常见发行版</h2> <p>主要分为 2 大类型：</p> <ul><li><code>Debian</code> 为代表（<code>.deb</code>），<strong>社区组织维护</strong>的短发版本。
<ul><li>Debian、Ubuntu、Xandros、Linspire ...</li></ul></li> <li><code>Red Hat</code> 为代表（<code>.rpm</code>），<strong>商业公司维护</strong>的发行版本。
<ul><li>Fedora、CentOS、Red Hat Enterprise Linux(RHEL)、OpenSUSE、Mandriva、PCLinuxOS ...</li></ul></li></ul> <h2 id="desktop-文件"><a href="#desktop-文件" class="header-anchor">#</a> desktop 文件</h2> <p>设置代理 <code>Exec=... --proxy-server=&quot;socks5://127.0.0.1:1089&quot;</code></p> <h2 id="mono"><a href="#mono" class="header-anchor">#</a> Mono</h2> <p><a href="http://zh.wikipedia.org/zh/Mono" target="_blank" rel="noopener noreferrer">Mono<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 是一个跨操作系统和硬件平台、跨编程语言，兼容于 .NET 的运行环境、框架、开发平台和工具集。</p> <p>Mono 项目由著名 Linux 桌面 GNOME 创始人 Miguel de Icaza 发起，创建于 2001 年，先由其公司 Ximian 主持，后随 Ximian 并购于 Novell。</p> <p>Mono 是一个开源软件平台，是符合 ECMA 标准的 .NET Framework 开源现实。它包括一个 C# 编译器，一个公用语言运行时环境，以及相关的基类库和 mono 类库。</p> <p>Mono 可以让 .NET 程序跨平台运行在 Linux、BSD、Windows、MacOS、Sun Solaris、Wii、索尼 PlayStation、苹果 iPhone 等几乎所有常见的操作系统之上。</p> <p>Mono 已经原生代码支持 86、X86-64、Ia64、PowerPC、SPARC(32)、ARM、S390、S390x(32-64) 等几乎所有存在的计算机系统，对于不能直接支持的计算机系统，也可以通过代码解释器支持。</p> <p>Mono 的公用语言运行时支持编程语言的集成与互操作能力，有许多语言已经有提供了兼容于 Mono CLR 编译器，这些语言包括了：C#、Java、Boo、Nemerle、Visual Basic.NET、Python、Java Script、Oberon、Object Pascal、C、A#（ADA）、PHP、Kylix.NET、MonoLogo、Tachy（Scheme）等。</p> <p>Mono 的优点不仅仅是跨平台，它更具有丰富的 API。除了 ECMA/ISO 标准的 CLI（Common Language Infrastructure）API 之外，Mono 也具有兼容于微软 Windows Forms、ADO.NET、ASP.NET 的 API，和 Mono 自己的 GUI API（Gtk#）。</p> <p>许多人也纷纷加入 Mono 的阵营，以 Mono 为基础，将许多既有的动态链接库包装成 .NET 版，例如：GdaSharp（源自 GNOME Data Access，作用类似 ADO.NET）、Cocoa#（源自 MacOS X Cocoa）、X Sharp（源自 X Windows）、Qt#（源自 Qt）、Sharp WT（源自 Java SWT）、wx.NET（源自 wxWidgets）、CsGL（源自 Open GL）、C#-SDL（源自 SDL）、GeckoSharp（源自 Mozilla Gecko）。Mono 还有一个整合许多 API 的计划，称为 Tao Framework。Tao 整合了 Cg、DevIL、FreeGLUT、GLFW、GLU、OpenAL、OpenGL、SDL、WGL。</p> <h2 id="zshell"><a href="#zshell" class="header-anchor">#</a> ZShell</h2> <h3 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h3> <ul><li><p>安装 zsh</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token function">zsh</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>配置 zsh 为默认 shell</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">cat</span> /etc/shells <span class="token comment"># 查看所有 shell</span>
<span class="token function">zsh</span> --version <span class="token comment"># 查看 zsh 版本</span>
<span class="token function">sudo</span> chsh -s /bin/zsh <span class="token comment"># 配置 zsh 为默认 shell</span>

------------

或者直接输入 chsh，然后回车，输入你的 <span class="token function">zsh</span> 地址：
/bin/zsh
重启生效
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>安装 oh my zsh</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">wget</span> https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - <span class="token operator">|</span> <span class="token function">sh</span>
<span class="token comment"># 或</span>
<span class="token function">git</span> clone git://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh
<span class="token comment"># 或</span>
<span class="token function">curl</span> -L https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh <span class="token operator">|</span> <span class="token function">sh</span>

---

<span class="token comment"># 国内源</span>
<span class="token function">sh</span> -c <span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> -fsSL https://gitee.com/mirrors/oh-my-zsh/raw/master/tools/install.sh<span class="token variable">)</span></span>&quot;</span>
<span class="token comment"># or</span>
<span class="token function">sh</span> -c <span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token function">wget</span> -O- https://gitee.com/pocmon/mirrors/raw/master/tools/install.sh<span class="token variable">)</span></span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li> <li><p>卸载 oh my zsh</p> <p><code>uninstall_oh_my_zsh</code></p></li></ul> <h3 id="zsh-主题"><a href="#zsh-主题" class="header-anchor">#</a> zsh 主题</h3> <p>oh my zsh 分为内置主题和自定义主题。</p> <h4 id="内置主题"><a href="#内置主题" class="header-anchor">#</a> 内置主题</h4> <p>oh my zsh 提供了很多主题可以选择，这些主题在安装 oh my zsh 的时候，就已经下载下来了，默认是 <code>robbyrussell</code>。</p> <p>在 home 目录下，打开 <code>.zshrc</code> 文件，找到一下内容：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token punctuation">..</span>.
<span class="token comment"># Set name of the theme to load --- if set to &quot;random&quot;, it will</span>
<span class="token comment"># load a random theme each time oh-my-zsh is loaded, in which case,</span>
<span class="token comment"># to know which specific one was loaded, run: echo $RANDOM_THEME</span>
<span class="token comment"># See https://github.com/ohmyzsh/ohmyzsh/wiki/Themes</span>
<span class="token assign-left variable">ZSH_THEME</span><span class="token operator">=</span><span class="token string">&quot;robbyrussell&quot;</span>
<span class="token punctuation">..</span>.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>使用 <code>ls ~/.oh-my-zsh/themes/</code> 查看所有内置主题，也可以访问 <code>https://github.com/ohmyzsh/ohmyzsh/wiki/Themes</code> 这个地址，查看所有的主题以及效果。</p> <p>也可以 <code>ZSH_THEME=&quot;random&quot;</code> 设置主题为 <code>random</code> 以后，每次打开终端都会随机切换一个新主题，或者输入 <code>zsh</code> 重新激活终端，就会刷新主题，找到你喜欢的主题之后，记住主题名字，可以在 <code>.zshrc</code> 中将 <code>ZSH_THEME=&quot;你喜欢的主题名&quot;</code> 就可以了。</p> <h4 id="自定义主题"><a href="#自定义主题" class="header-anchor">#</a> 自定义主题</h4> <p>自定义主题放置在 <code>~/.oh-my-zsh/custom/themes/</code>。</p> <h3 id="zsh-插件"><a href="#zsh-插件" class="header-anchor">#</a> zsh 插件</h3> <p>zsh 分为内置插件和自定义插件。</p> <h4 id="内置插件"><a href="#内置插件" class="header-anchor">#</a> 内置插件</h4> <p>自带插件是在安装了 <code>oh my zsh</code> 的时候，就已经下载下来了。</p> <p>但是默认只启用了 <code>git</code>：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># ~/.zshrc</span>
<span class="token punctuation">..</span>.
<span class="token assign-left variable">plugins</span><span class="token operator">=</span><span class="token punctuation">(</span>git<span class="token punctuation">)</span>
<span class="token punctuation">..</span>.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>查看自带的所有插件： <code>ls ~/.oh-my-zsh/plugins</code>，将插件名设置到 <code>.zshrc</code> 文件中，就可以启用了。</p> <p>开启插件后，当然你需要刷新配置文件，你可以执行 <code>source .zshrc</code> 立即刷新配置文件，这样配置立即生效。你也可以执行 <code>zsh</code> 这样会重新启动 zsh，它启动前会自动先加载配置文件，所以也起到了立即生效的效果。你也可以不做任何操作，关掉你的终端，重新打开，也是可以用的。</p> <p>PS: 插件实际上就是一个脚本，配置了之后，其实就是打开你的程序之前，先去运行这个脚本（插件）。</p> <p>推荐开启的插件：</p> <ul><li><code>sudo</code> <ul><li>开启这个插件之后，如果你执行了一个命令，忘记了加 <code>sudo</code>，你只需要按两下 ESC，就会自动帮你给上一条命令添加 <code>sudo</code> 前缀。</li></ul></li> <li><code>colored-man-pages</code> <ul><li>帮助手册高亮</li></ul></li></ul> <h4 id="自定义插件"><a href="#自定义插件" class="header-anchor">#</a> 自定义插件</h4> <p>安装一个自定义的插件，你只需要将插件源码放到 <code>~/.oh-my-zsh/custom/plugins/</code>，然后和自带插件一样将插件名配置到 <code>.zshrc</code>，就可以用了。</p> <p>推荐自定义插件：</p> <ul><li><code>zsh-syntax-highlighting</code> <ul><li>将你输入的命令高亮</li></ul></li> <li><code>zsh-autosuggestions</code> <ul><li>如果你之前输入过 <code>cd /user</code>，开启这个插件后，当你再次输入 <code>cd</code> 时，会推荐给你之前的命令，如果你想使用它，按下 <code>-&gt;</code> 就可以了。</li></ul></li></ul> <p><code>zsh-syntax-highlighting</code> 和 <code>zsh-autosuggestions</code> 的库 -&gt; <a href="https://github.com/zsh-users" target="_blank" rel="noopener noreferrer">zsh users github<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="讨论区"><a href="#讨论区" class="header-anchor">#</a> 讨论区</h2> <blockquote><p>由于评论过多会影响页面最下方的导航，故将评论区做默认折叠处理。</p></blockquote> <details class="custom-block details"><summary>点击查看评论区内容，渴望您的宝贵建议~</summary> <!----></details></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/26/2025, 6:13:22 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/computer-literacy/linux/linux_command.html" class="prev">
        Linux 命令行常用
      </a></span> <span class="next"><a href="/computer-literacy/linux/os_related.html">
        操作系统相关
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.5780eb53.js" defer></script><script src="/assets/js/2.e1f1d232.js" defer></script><script src="/assets/js/3.93a08b3b.js" defer></script>
  </body>
</html>
